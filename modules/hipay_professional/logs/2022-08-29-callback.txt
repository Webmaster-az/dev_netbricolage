## 2022-08-29 10:16:20 ##
##########################
## 2022-08-29 10:16:20 ##
START Validation Callback
## 2022-08-29 10:16:20 ##
##########################
## 2022-08-29 10:16:20 ##
----> Treatment is locked for the id_cart = 4076
## 2022-08-29 10:16:20 ##
data for validation
## 2022-08-29 10:16:20 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>6a6995604008ff01b984d520493cfe3d</md5content><result><operation>authorization</operation><status>nok</status><date>2022-08-29</date><time>08:16:19 UTC+0000</time><origAmount>968.63</origAmount><origCurrency>EUR</origCurrency><idForMerchant>4076</idForMerchant><emailClient>b.huste@orange.fr</emailClient><idClient>21379216</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>4076</_aKey_cart_id>  <_aKey_customer_id>2385</_aKey_customer_id>  <_aKey_secure_key>975704b5195280730a194308dc8e0a7f</_aKey_secure_key>  <_aKey_token>98d81ea0f7986efd823fee61524757a3</_aKey_token></merchantDatas><transid>630C7519BA27F200</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><nok-msg/><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 6a6995604008ff01b984d520493cfe3d
            [result] => Array
                (
                    [operation] => authorization
                    [status] => nok
                    [date] => 2022-08-29
                    [time] => 08:16:19 UTC+0000
                    [origAmount] => 968.63
                    [origCurrency] => EUR
                    [idForMerchant] => 4076
                    [emailClient] => b.huste@orange.fr
                    [idClient] => 21379216
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 4076
                            [_aKey_customer_id] => 2385
                            [_aKey_secure_key] => 975704b5195280730a194308dc8e0a7f
                            [_aKey_token] => 98d81ea0f7986efd823fee61524757a3
                        )

                    [transid] => 630C7519BA27F200
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [nok-msg] => Array
                        (
                        )

                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 4076
    [3] => 2385
    [4] => 975704b5195280730a194308dc8e0a7f
    [5] => 968.63
)

## 2022-08-29 10:16:20 ##
----> START registerOrder()
## 2022-08-29 10:16:20 ##
accountID:13248407 / websiteId:418801
## 2022-08-29 10:16:20 ##
<result><operation>authorization</operation><status>nok</status><date>2022-08-29</date><time>08:16:19 UTC+0000</time><origAmount>968.63</origAmount><origCurrency>EUR</origCurrency><idForMerchant>4076</idForMerchant><emailClient>b.huste@orange.fr</emailClient><idClient>21379216</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>4076</_aKey_cart_id>  <_aKey_customer_id>2385</_aKey_customer_id>  <_aKey_secure_key>975704b5195280730a194308dc8e0a7f</_aKey_secure_key>  <_aKey_token>98d81ea0f7986efd823fee61524757a3</_aKey_token></merchantDatas><transid>630C7519BA27F200</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><nok-msg/><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2022-08-29 10:16:20 ##
currency : EUR
## 2022-08-29 10:16:20 ##
accountID:13248407 / websiteId:418801
## 2022-08-29 10:16:20 ##
callback_salt : 
## 2022-08-29 10:16:20 ##
md5 : 6a6995604008ff01b984d520493cfe3d == md5content : 6a6995604008ff01b984d520493cfe3d
## 2022-08-29 10:16:20 ##
Status = nok
## 2022-08-29 10:16:20 ##
$currency = EUR
## 2022-08-29 10:16:20 ##
id_order_state = 8
## 2022-08-29 10:16:20 ##
----> START placeOrder()
## 2022-08-29 10:16:20 ##
Treatment status = ERROR
## 2022-08-29 10:16:20 ##
Array
(
    [operation] =&gt; authorization
    [status] =&gt; nok
    [date] =&gt; 2022-08-29
    [time] =&gt; 08:16:19 UTC+0000
    [origAmount] =&gt; 968.63
    [origCurrency] =&gt; EUR
    [idForMerchant] =&gt; 4076
    [emailClient] =&gt; b.huste@orange.fr
    [idClient] =&gt; 21379216
    [cardCountry] =&gt; FR
    [ipCountry] =&gt; FR
    [merchantDatas] =&gt; Array
        (
            [_aKey_cart_id] =&gt; 4076
            [_aKey_customer_id] =&gt; 2385
            [_aKey_secure_key] =&gt; 975704b5195280730a194308dc8e0a7f
            [_aKey_token] =&gt; 98d81ea0f7986efd823fee61524757a3
        )

    [transid] =&gt; 630C7519BA27F200
    [is3ds] =&gt; Yes
    [paymentMethod] =&gt; CB
    [nok-msg] =&gt; Array
        (
        )

    [customerCountry] =&gt; FR
    [returnCode] =&gt; Array
        (
        )

    [returnDescriptionShort] =&gt; Array
        (
        )

    [returnDescriptionLong] =&gt; Array
        (
        )

)

## 2022-08-29 10:16:20 ##
----> END placeOrder()
## 2022-08-29 10:16:20 ##
----> END registerOrder()
## 2022-08-29 10:16:20 ##
----> Treatment is unlocked for the id_cart = 4076
## 2022-08-29 10:26:42 ##
##########################
## 2022-08-29 10:26:42 ##
START Validation Callback
## 2022-08-29 10:26:42 ##
##########################
## 2022-08-29 10:26:42 ##
----> Treatment is locked for the id_cart = 4076
## 2022-08-29 10:26:42 ##
data for validation
## 2022-08-29 10:26:42 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>f1ef1f8779d2288fea536eddfe9864f6</md5content><result><operation>authorization</operation><status>nok</status><date>2022-08-29</date><time>08:26:39 UTC+0000</time><origAmount>968.63</origAmount><origCurrency>EUR</origCurrency><idForMerchant>4076</idForMerchant><emailClient>b.huste@orange.fr</emailClient><idClient>21379216</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>4076</_aKey_cart_id>  <_aKey_customer_id>2385</_aKey_customer_id>  <_aKey_secure_key>975704b5195280730a194308dc8e0a7f</_aKey_secure_key>  <_aKey_token>98d81ea0f7986efd823fee61524757a3</_aKey_token></merchantDatas><transid>630C77CE10037316</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><nok-msg/><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => f1ef1f8779d2288fea536eddfe9864f6
            [result] => Array
                (
                    [operation] => authorization
                    [status] => nok
                    [date] => 2022-08-29
                    [time] => 08:26:39 UTC+0000
                    [origAmount] => 968.63
                    [origCurrency] => EUR
                    [idForMerchant] => 4076
                    [emailClient] => b.huste@orange.fr
                    [idClient] => 21379216
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 4076
                            [_aKey_customer_id] => 2385
                            [_aKey_secure_key] => 975704b5195280730a194308dc8e0a7f
                            [_aKey_token] => 98d81ea0f7986efd823fee61524757a3
                        )

                    [transid] => 630C77CE10037316
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [nok-msg] => Array
                        (
                        )

                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 4076
    [3] => 2385
    [4] => 975704b5195280730a194308dc8e0a7f
    [5] => 968.63
)

## 2022-08-29 10:26:42 ##
----> START registerOrder()
## 2022-08-29 10:26:42 ##
accountID:13248407 / websiteId:418801
## 2022-08-29 10:26:42 ##
<result><operation>authorization</operation><status>nok</status><date>2022-08-29</date><time>08:26:39 UTC+0000</time><origAmount>968.63</origAmount><origCurrency>EUR</origCurrency><idForMerchant>4076</idForMerchant><emailClient>b.huste@orange.fr</emailClient><idClient>21379216</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>4076</_aKey_cart_id>  <_aKey_customer_id>2385</_aKey_customer_id>  <_aKey_secure_key>975704b5195280730a194308dc8e0a7f</_aKey_secure_key>  <_aKey_token>98d81ea0f7986efd823fee61524757a3</_aKey_token></merchantDatas><transid>630C77CE10037316</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><nok-msg/><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2022-08-29 10:26:42 ##
currency : EUR
## 2022-08-29 10:26:42 ##
accountID:13248407 / websiteId:418801
## 2022-08-29 10:26:42 ##
callback_salt : 
## 2022-08-29 10:26:42 ##
md5 : f1ef1f8779d2288fea536eddfe9864f6 == md5content : f1ef1f8779d2288fea536eddfe9864f6
## 2022-08-29 10:26:42 ##
Status = nok
## 2022-08-29 10:26:42 ##
$currency = EUR
## 2022-08-29 10:26:42 ##
id_order_state = 8
## 2022-08-29 10:26:42 ##
----> START placeOrder()
## 2022-08-29 10:26:42 ##
Treatment status = ERROR
## 2022-08-29 10:26:42 ##
Array
(
    [operation] =&gt; authorization
    [status] =&gt; nok
    [date] =&gt; 2022-08-29
    [time] =&gt; 08:26:39 UTC+0000
    [origAmount] =&gt; 968.63
    [origCurrency] =&gt; EUR
    [idForMerchant] =&gt; 4076
    [emailClient] =&gt; b.huste@orange.fr
    [idClient] =&gt; 21379216
    [cardCountry] =&gt; FR
    [ipCountry] =&gt; FR
    [merchantDatas] =&gt; Array
        (
            [_aKey_cart_id] =&gt; 4076
            [_aKey_customer_id] =&gt; 2385
            [_aKey_secure_key] =&gt; 975704b5195280730a194308dc8e0a7f
            [_aKey_token] =&gt; 98d81ea0f7986efd823fee61524757a3
        )

    [transid] =&gt; 630C77CE10037316
    [is3ds] =&gt; Yes
    [paymentMethod] =&gt; CB
    [nok-msg] =&gt; Array
        (
        )

    [customerCountry] =&gt; FR
    [returnCode] =&gt; Array
        (
        )

    [returnDescriptionShort] =&gt; Array
        (
        )

    [returnDescriptionLong] =&gt; Array
        (
        )

)

## 2022-08-29 10:26:42 ##
----> END placeOrder()
## 2022-08-29 10:26:42 ##
----> END registerOrder()
## 2022-08-29 10:26:42 ##
----> Treatment is unlocked for the id_cart = 4076
## 2022-08-29 10:30:54 ##
##########################
## 2022-08-29 10:30:54 ##
START Validation Callback
## 2022-08-29 10:30:54 ##
##########################
## 2022-08-29 10:30:54 ##
----> Treatment is locked for the id_cart = 4076
## 2022-08-29 10:30:54 ##
data for validation
## 2022-08-29 10:30:54 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>25c02e619d2c6105fd306ff74d73f342</md5content><result><operation>authorization</operation><status>ok</status><date>2022-08-29</date><time>08:30:52 UTC+0000</time><origAmount>968.63</origAmount><origCurrency>EUR</origCurrency><idForMerchant>4076</idForMerchant><emailClient>b.huste@orange.fr</emailClient><idClient>21379216</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>4076</_aKey_cart_id>  <_aKey_customer_id>2385</_aKey_customer_id>  <_aKey_secure_key>975704b5195280730a194308dc8e0a7f</_aKey_secure_key>  <_aKey_token>98d81ea0f7986efd823fee61524757a3</_aKey_token></merchantDatas><transid>630C78BBA8653447</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 25c02e619d2c6105fd306ff74d73f342
            [result] => Array
                (
                    [operation] => authorization
                    [status] => ok
                    [date] => 2022-08-29
                    [time] => 08:30:52 UTC+0000
                    [origAmount] => 968.63
                    [origCurrency] => EUR
                    [idForMerchant] => 4076
                    [emailClient] => b.huste@orange.fr
                    [idClient] => 21379216
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 4076
                            [_aKey_customer_id] => 2385
                            [_aKey_secure_key] => 975704b5195280730a194308dc8e0a7f
                            [_aKey_token] => 98d81ea0f7986efd823fee61524757a3
                        )

                    [transid] => 630C78BBA8653447
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 4076
    [3] => 2385
    [4] => 975704b5195280730a194308dc8e0a7f
    [5] => 968.63
)

## 2022-08-29 10:30:54 ##
----> START registerOrder()
## 2022-08-29 10:30:54 ##
accountID:13248407 / websiteId:418801
## 2022-08-29 10:30:54 ##
<result><operation>authorization</operation><status>ok</status><date>2022-08-29</date><time>08:30:52 UTC+0000</time><origAmount>968.63</origAmount><origCurrency>EUR</origCurrency><idForMerchant>4076</idForMerchant><emailClient>b.huste@orange.fr</emailClient><idClient>21379216</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>4076</_aKey_cart_id>  <_aKey_customer_id>2385</_aKey_customer_id>  <_aKey_secure_key>975704b5195280730a194308dc8e0a7f</_aKey_secure_key>  <_aKey_token>98d81ea0f7986efd823fee61524757a3</_aKey_token></merchantDatas><transid>630C78BBA8653447</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2022-08-29 10:30:54 ##
currency : EUR
## 2022-08-29 10:30:54 ##
accountID:13248407 / websiteId:418801
## 2022-08-29 10:30:54 ##
callback_salt : 
## 2022-08-29 10:30:54 ##
md5 : 25c02e619d2c6105fd306ff74d73f342 == md5content : 25c02e619d2c6105fd306ff74d73f342
## 2022-08-29 10:30:54 ##
Status = ok
## 2022-08-29 10:30:54 ##
$currency = EUR
## 2022-08-29 10:30:54 ##
id_order_state = 42
## 2022-08-29 10:30:54 ##
----> START placeOrder()
## 2022-08-29 10:30:54 ##
Treatment status = 42
## 2022-08-29 10:30:54 ##
Validate order
## 2022-08-29 10:30:54 ##
Array
(
    [0] => 4076
    [1] => 42
    [2] => 968.63
    [3] => HiPay Professional
    [4] => {"Environment":"PRODUCTION","Payment method":"CB","Transaction ID":"630C78BBA8653447"}
    [5] => Array
        (
            [transaction_id] => 630C78BBA8653447
        )

    [6] => 1
    [7] => 975704b5195280730a194308dc8e0a7f
)

## 2022-08-29 10:30:54 ##
ID Shop = 1
## 2022-08-29 10:30:55 ##
Order created
## 2022-08-29 10:30:55 ##
----> END placeOrder()
## 2022-08-29 10:30:55 ##
----> END registerOrder()
## 2022-08-29 10:30:55 ##
----> Treatment is unlocked for the id_cart = 4076
## 2022-08-29 10:31:03 ##
##########################
## 2022-08-29 10:31:03 ##
START Validation Callback
## 2022-08-29 10:31:03 ##
##########################
## 2022-08-29 10:31:03 ##
----> Treatment is locked for the id_cart = 4076
## 2022-08-29 10:31:03 ##
data for validation
## 2022-08-29 10:31:03 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>9e63ffe169e31becae565d546411420e</md5content><result><operation>capture</operation><status>ok</status><date>2022-08-29</date><time>08:30:59 UTC+0000</time><origAmount>968.63</origAmount><origCurrency>EUR</origCurrency><idForMerchant>4076</idForMerchant><emailClient>b.huste@orange.fr</emailClient><idClient>21379216</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>4076</_aKey_cart_id>  <_aKey_customer_id>2385</_aKey_customer_id>  <_aKey_secure_key>975704b5195280730a194308dc8e0a7f</_aKey_secure_key>  <_aKey_token>98d81ea0f7986efd823fee61524757a3</_aKey_token></merchantDatas><transid>630C78BBA8653447</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 9e63ffe169e31becae565d546411420e
            [result] => Array
                (
                    [operation] => capture
                    [status] => ok
                    [date] => 2022-08-29
                    [time] => 08:30:59 UTC+0000
                    [origAmount] => 968.63
                    [origCurrency] => EUR
                    [idForMerchant] => 4076
                    [emailClient] => b.huste@orange.fr
                    [idClient] => 21379216
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 4076
                            [_aKey_customer_id] => 2385
                            [_aKey_secure_key] => 975704b5195280730a194308dc8e0a7f
                            [_aKey_token] => 98d81ea0f7986efd823fee61524757a3
                        )

                    [transid] => 630C78BBA8653447
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 4076
    [3] => 2385
    [4] => 975704b5195280730a194308dc8e0a7f
    [5] => 968.63
)

## 2022-08-29 10:31:03 ##
----> START registerOrder()
## 2022-08-29 10:31:03 ##
accountID:13248407 / websiteId:418801
## 2022-08-29 10:31:03 ##
<result><operation>capture</operation><status>ok</status><date>2022-08-29</date><time>08:30:59 UTC+0000</time><origAmount>968.63</origAmount><origCurrency>EUR</origCurrency><idForMerchant>4076</idForMerchant><emailClient>b.huste@orange.fr</emailClient><idClient>21379216</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>4076</_aKey_cart_id>  <_aKey_customer_id>2385</_aKey_customer_id>  <_aKey_secure_key>975704b5195280730a194308dc8e0a7f</_aKey_secure_key>  <_aKey_token>98d81ea0f7986efd823fee61524757a3</_aKey_token></merchantDatas><transid>630C78BBA8653447</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2022-08-29 10:31:03 ##
currency : EUR
## 2022-08-29 10:31:03 ##
accountID:13248407 / websiteId:418801
## 2022-08-29 10:31:03 ##
callback_salt : 
## 2022-08-29 10:31:03 ##
md5 : 9e63ffe169e31becae565d546411420e == md5content : 9e63ffe169e31becae565d546411420e
## 2022-08-29 10:31:03 ##
Status = ok
## 2022-08-29 10:31:03 ##
$currency = EUR
## 2022-08-29 10:31:03 ##
id_order_state = 2
## 2022-08-29 10:31:03 ##
----> START placeOrder()
## 2022-08-29 10:31:03 ##
Treatment an existing order
## 2022-08-29 10:31:03 ##
If current status order = HIPAY_OS_WAITING Then change status with this id_status = 2
## 2022-08-29 10:31:03 ##
Array
(
    [operation] => capture
    [status] => ok
    [date] => 2022-08-29
    [time] => 08:30:59 UTC+0000
    [origAmount] => 968.63
    [origCurrency] => EUR
    [idForMerchant] => 4076
    [emailClient] => b.huste@orange.fr
    [idClient] => 21379216
    [cardCountry] => FR
    [ipCountry] => FR
    [merchantDatas] => Array
        (
            [_aKey_cart_id] => 4076
            [_aKey_customer_id] => 2385
            [_aKey_secure_key] => 975704b5195280730a194308dc8e0a7f
            [_aKey_token] => 98d81ea0f7986efd823fee61524757a3
        )

    [transid] => 630C78BBA8653447
    [is3ds] => Yes
    [paymentMethod] => CB
    [customerCountry] => FR
    [returnCode] => Array
        (
        )

    [returnDescriptionShort] => Array
        (
        )

    [returnDescriptionLong] => Array
        (
        )

)

## 2022-08-29 10:31:04 ##
----> END placeOrder()
## 2022-08-29 10:31:04 ##
----> END registerOrder()
## 2022-08-29 10:31:04 ##
----> Treatment is unlocked for the id_cart = 4076
## 2022-08-29 11:45:23 ##
##########################
## 2022-08-29 11:45:23 ##
START Validation Callback
## 2022-08-29 11:45:23 ##
##########################
## 2022-08-29 11:45:23 ##
----> Treatment is locked for the id_cart = 4156
## 2022-08-29 11:45:23 ##
data for validation
## 2022-08-29 11:45:23 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>97607186f5b9c62582cc5d18641b782f</md5content><result><operation>authorization</operation><status>ok</status><date>2022-08-29</date><time>09:45:20 UTC+0000</time><origAmount>1059.01</origAmount><origCurrency>EUR</origCurrency><idForMerchant>4156</idForMerchant><emailClient>herve.marchebois@laposte.net</emailClient><idClient>21379621</idClient><cardCountry>FR</cardCountry><ipCountry>DK</ipCountry><merchantDatas>  <_aKey_cart_id>4156</_aKey_cart_id>  <_aKey_customer_id>2386</_aKey_customer_id>  <_aKey_secure_key>453b874470bf60f4cefeff92fdcd0674</_aKey_secure_key>  <_aKey_token>1bc5cc18d3d182901489a668a6c1872d</_aKey_token></merchantDatas><transid>630C88EB96AB9280</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 97607186f5b9c62582cc5d18641b782f
            [result] => Array
                (
                    [operation] => authorization
                    [status] => ok
                    [date] => 2022-08-29
                    [time] => 09:45:20 UTC+0000
                    [origAmount] => 1059.01
                    [origCurrency] => EUR
                    [idForMerchant] => 4156
                    [emailClient] => herve.marchebois@laposte.net
                    [idClient] => 21379621
                    [cardCountry] => FR
                    [ipCountry] => DK
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 4156
                            [_aKey_customer_id] => 2386
                            [_aKey_secure_key] => 453b874470bf60f4cefeff92fdcd0674
                            [_aKey_token] => 1bc5cc18d3d182901489a668a6c1872d
                        )

                    [transid] => 630C88EB96AB9280
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 4156
    [3] => 2386
    [4] => 453b874470bf60f4cefeff92fdcd0674
    [5] => 1059.01
)

## 2022-08-29 11:45:23 ##
----> START registerOrder()
## 2022-08-29 11:45:23 ##
accountID:13248407 / websiteId:418801
## 2022-08-29 11:45:23 ##
<result><operation>authorization</operation><status>ok</status><date>2022-08-29</date><time>09:45:20 UTC+0000</time><origAmount>1059.01</origAmount><origCurrency>EUR</origCurrency><idForMerchant>4156</idForMerchant><emailClient>herve.marchebois@laposte.net</emailClient><idClient>21379621</idClient><cardCountry>FR</cardCountry><ipCountry>DK</ipCountry><merchantDatas>  <_aKey_cart_id>4156</_aKey_cart_id>  <_aKey_customer_id>2386</_aKey_customer_id>  <_aKey_secure_key>453b874470bf60f4cefeff92fdcd0674</_aKey_secure_key>  <_aKey_token>1bc5cc18d3d182901489a668a6c1872d</_aKey_token></merchantDatas><transid>630C88EB96AB9280</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2022-08-29 11:45:23 ##
currency : EUR
## 2022-08-29 11:45:23 ##
accountID:13248407 / websiteId:418801
## 2022-08-29 11:45:23 ##
callback_salt : 
## 2022-08-29 11:45:23 ##
md5 : 97607186f5b9c62582cc5d18641b782f == md5content : 97607186f5b9c62582cc5d18641b782f
## 2022-08-29 11:45:23 ##
Status = ok
## 2022-08-29 11:45:23 ##
$currency = EUR
## 2022-08-29 11:45:23 ##
id_order_state = 42
## 2022-08-29 11:45:23 ##
----> START placeOrder()
## 2022-08-29 11:45:23 ##
Treatment status = 42
## 2022-08-29 11:45:23 ##
Validate order
## 2022-08-29 11:45:23 ##
Array
(
    [0] => 4156
    [1] => 42
    [2] => 1059.01
    [3] => HiPay Professional
    [4] => {"Environment":"PRODUCTION","Payment method":"CB","Transaction ID":"630C88EB96AB9280"}
    [5] => Array
        (
            [transaction_id] => 630C88EB96AB9280
        )

    [6] => 1
    [7] => 453b874470bf60f4cefeff92fdcd0674
)

## 2022-08-29 11:45:23 ##
ID Shop = 1
## 2022-08-29 11:45:25 ##
Order created
## 2022-08-29 11:45:25 ##
----> END placeOrder()
## 2022-08-29 11:45:25 ##
----> END registerOrder()
## 2022-08-29 11:45:25 ##
----> Treatment is unlocked for the id_cart = 4156
## 2022-08-29 11:52:33 ##
##########################
## 2022-08-29 11:52:33 ##
START Validation Callback
## 2022-08-29 11:52:33 ##
##########################
## 2022-08-29 11:52:33 ##
----> Treatment is locked for the id_cart = 4156
## 2022-08-29 11:52:33 ##
data for validation
## 2022-08-29 11:52:33 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>ae359aaa1a48e1e379027ef4cc5d45c2</md5content><result><operation>capture</operation><status>ok</status><date>2022-08-29</date><time>09:52:29 UTC+0000</time><origAmount>1059.01</origAmount><origCurrency>EUR</origCurrency><idForMerchant>4156</idForMerchant><emailClient>herve.marchebois@laposte.net</emailClient><idClient>21379621</idClient><cardCountry>FR</cardCountry><ipCountry>DK</ipCountry><merchantDatas>  <_aKey_cart_id>4156</_aKey_cart_id>  <_aKey_customer_id>2386</_aKey_customer_id>  <_aKey_secure_key>453b874470bf60f4cefeff92fdcd0674</_aKey_secure_key>  <_aKey_token>1bc5cc18d3d182901489a668a6c1872d</_aKey_token></merchantDatas><transid>630C88EB96AB9280</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => ae359aaa1a48e1e379027ef4cc5d45c2
            [result] => Array
                (
                    [operation] => capture
                    [status] => ok
                    [date] => 2022-08-29
                    [time] => 09:52:29 UTC+0000
                    [origAmount] => 1059.01
                    [origCurrency] => EUR
                    [idForMerchant] => 4156
                    [emailClient] => herve.marchebois@laposte.net
                    [idClient] => 21379621
                    [cardCountry] => FR
                    [ipCountry] => DK
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 4156
                            [_aKey_customer_id] => 2386
                            [_aKey_secure_key] => 453b874470bf60f4cefeff92fdcd0674
                            [_aKey_token] => 1bc5cc18d3d182901489a668a6c1872d
                        )

                    [transid] => 630C88EB96AB9280
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 4156
    [3] => 2386
    [4] => 453b874470bf60f4cefeff92fdcd0674
    [5] => 1059.01
)

## 2022-08-29 11:52:33 ##
----> START registerOrder()
## 2022-08-29 11:52:33 ##
accountID:13248407 / websiteId:418801
## 2022-08-29 11:52:33 ##
<result><operation>capture</operation><status>ok</status><date>2022-08-29</date><time>09:52:29 UTC+0000</time><origAmount>1059.01</origAmount><origCurrency>EUR</origCurrency><idForMerchant>4156</idForMerchant><emailClient>herve.marchebois@laposte.net</emailClient><idClient>21379621</idClient><cardCountry>FR</cardCountry><ipCountry>DK</ipCountry><merchantDatas>  <_aKey_cart_id>4156</_aKey_cart_id>  <_aKey_customer_id>2386</_aKey_customer_id>  <_aKey_secure_key>453b874470bf60f4cefeff92fdcd0674</_aKey_secure_key>  <_aKey_token>1bc5cc18d3d182901489a668a6c1872d</_aKey_token></merchantDatas><transid>630C88EB96AB9280</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2022-08-29 11:52:33 ##
currency : EUR
## 2022-08-29 11:52:33 ##
accountID:13248407 / websiteId:418801
## 2022-08-29 11:52:33 ##
callback_salt : 
## 2022-08-29 11:52:33 ##
md5 : ae359aaa1a48e1e379027ef4cc5d45c2 == md5content : ae359aaa1a48e1e379027ef4cc5d45c2
## 2022-08-29 11:52:33 ##
Status = ok
## 2022-08-29 11:52:33 ##
$currency = EUR
## 2022-08-29 11:52:33 ##
id_order_state = 2
## 2022-08-29 11:52:33 ##
----> START placeOrder()
## 2022-08-29 11:52:33 ##
Treatment an existing order
## 2022-08-29 11:52:33 ##
If current status order = HIPAY_OS_WAITING Then change status with this id_status = 2
## 2022-08-29 11:52:33 ##
Array
(
    [operation] => capture
    [status] => ok
    [date] => 2022-08-29
    [time] => 09:52:29 UTC+0000
    [origAmount] => 1059.01
    [origCurrency] => EUR
    [idForMerchant] => 4156
    [emailClient] => herve.marchebois@laposte.net
    [idClient] => 21379621
    [cardCountry] => FR
    [ipCountry] => DK
    [merchantDatas] => Array
        (
            [_aKey_cart_id] => 4156
            [_aKey_customer_id] => 2386
            [_aKey_secure_key] => 453b874470bf60f4cefeff92fdcd0674
            [_aKey_token] => 1bc5cc18d3d182901489a668a6c1872d
        )

    [transid] => 630C88EB96AB9280
    [is3ds] => Yes
    [paymentMethod] => CB
    [customerCountry] => FR
    [returnCode] => Array
        (
        )

    [returnDescriptionShort] => Array
        (
        )

    [returnDescriptionLong] => Array
        (
        )

)

## 2022-08-29 11:52:33 ##
----> END placeOrder()
## 2022-08-29 11:52:33 ##
----> END registerOrder()
## 2022-08-29 11:52:33 ##
----> Treatment is unlocked for the id_cart = 4156
