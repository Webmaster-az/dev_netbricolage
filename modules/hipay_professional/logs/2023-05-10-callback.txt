## 2023-05-10 11:40:11 ##
##########################
## 2023-05-10 11:40:11 ##
START Validation Callback
## 2023-05-10 11:40:11 ##
##########################
## 2023-05-10 11:40:11 ##
----> Treatment is locked for the id_cart = 8683
## 2023-05-10 11:40:11 ##
data for validation
## 2023-05-10 11:40:11 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>075ca21c9ce36d50a0ea46731b957158</md5content><result><operation>authorization</operation><status>nok</status><date>2023-05-10</date><time>09:40:07 UTC+0000</time><origAmount>170.01</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8683</idForMerchant><emailClient>ckschou@gmail.com</emailClient><idClient>22300200</idClient><cardCountry>LI</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8683</_aKey_cart_id>  <_aKey_customer_id>3409</_aKey_customer_id>  <_aKey_secure_key>b6aed9aba379716c508ac4aaa6af9942</_aKey_secure_key>  <_aKey_token>bf292746458587e29068b64c0101c3c3</_aKey_token></merchantDatas><transid>645B65A5ED3CF312</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 075ca21c9ce36d50a0ea46731b957158
            [result] => Array
                (
                    [operation] => authorization
                    [status] => nok
                    [date] => 2023-05-10
                    [time] => 09:40:07 UTC+0000
                    [origAmount] => 170.01
                    [origCurrency] => EUR
                    [idForMerchant] => 8683
                    [emailClient] => ckschou@gmail.com
                    [idClient] => 22300200
                    [cardCountry] => LI
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 8683
                            [_aKey_customer_id] => 3409
                            [_aKey_secure_key] => b6aed9aba379716c508ac4aaa6af9942
                            [_aKey_token] => bf292746458587e29068b64c0101c3c3
                        )

                    [transid] => 645B65A5ED3CF312
                    [is3ds] => Yes
                    [paymentMethod] => VISA
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 8683
    [3] => 3409
    [4] => b6aed9aba379716c508ac4aaa6af9942
    [5] => 170.01
)

## 2023-05-10 11:40:11 ##
----> START registerOrder()
## 2023-05-10 11:40:11 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 11:40:11 ##
<result><operation>authorization</operation><status>nok</status><date>2023-05-10</date><time>09:40:07 UTC+0000</time><origAmount>170.01</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8683</idForMerchant><emailClient>ckschou@gmail.com</emailClient><idClient>22300200</idClient><cardCountry>LI</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8683</_aKey_cart_id>  <_aKey_customer_id>3409</_aKey_customer_id>  <_aKey_secure_key>b6aed9aba379716c508ac4aaa6af9942</_aKey_secure_key>  <_aKey_token>bf292746458587e29068b64c0101c3c3</_aKey_token></merchantDatas><transid>645B65A5ED3CF312</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2023-05-10 11:40:11 ##
currency : EUR
## 2023-05-10 11:40:11 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 11:40:11 ##
callback_salt : 
## 2023-05-10 11:40:11 ##
md5 : 075ca21c9ce36d50a0ea46731b957158 == md5content : 075ca21c9ce36d50a0ea46731b957158
## 2023-05-10 11:40:11 ##
Status = nok
## 2023-05-10 11:40:11 ##
$currency = EUR
## 2023-05-10 11:40:11 ##
id_order_state = 8
## 2023-05-10 11:40:11 ##
----> START placeOrder()
## 2023-05-10 11:40:11 ##
Treatment status = ERROR
## 2023-05-10 11:40:11 ##
Array
(
    [operation] =&gt; authorization
    [status] =&gt; nok
    [date] =&gt; 2023-05-10
    [time] =&gt; 09:40:07 UTC+0000
    [origAmount] =&gt; 170.01
    [origCurrency] =&gt; EUR
    [idForMerchant] =&gt; 8683
    [emailClient] =&gt; ckschou@gmail.com
    [idClient] =&gt; 22300200
    [cardCountry] =&gt; LI
    [ipCountry] =&gt; FR
    [merchantDatas] =&gt; Array
        (
            [_aKey_cart_id] =&gt; 8683
            [_aKey_customer_id] =&gt; 3409
            [_aKey_secure_key] =&gt; b6aed9aba379716c508ac4aaa6af9942
            [_aKey_token] =&gt; bf292746458587e29068b64c0101c3c3
        )

    [transid] =&gt; 645B65A5ED3CF312
    [is3ds] =&gt; Yes
    [paymentMethod] =&gt; VISA
    [customerCountry] =&gt; FR
    [returnCode] =&gt; Array
        (
        )

    [returnDescriptionShort] =&gt; Array
        (
        )

    [returnDescriptionLong] =&gt; Array
        (
        )

)

## 2023-05-10 11:40:11 ##
----> END placeOrder()
## 2023-05-10 11:40:11 ##
----> END registerOrder()
## 2023-05-10 11:40:11 ##
----> Treatment is unlocked for the id_cart = 8683
## 2023-05-10 11:41:26 ##
##########################
## 2023-05-10 11:41:26 ##
START Validation Callback
## 2023-05-10 11:41:26 ##
##########################
## 2023-05-10 11:41:26 ##
----> Treatment is locked for the id_cart = 8686
## 2023-05-10 11:41:26 ##
data for validation
## 2023-05-10 11:41:26 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>99a3f8b78f2cd35c2c1ae96bae622ed0</md5content><result><operation>authorization</operation><status>ok</status><date>2023-05-10</date><time>09:41:24 UTC+0000</time><origAmount>321.01</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8686</idForMerchant><emailClient>aymard.francois@gmail.com</emailClient><idClient>22300215</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8686</_aKey_cart_id>  <_aKey_customer_id>3411</_aKey_customer_id>  <_aKey_secure_key>efa57fd96c7b31c533ac5a6386ed1285</_aKey_secure_key>  <_aKey_token>ec5af1f887f42cfae4003689f9620eb5</_aKey_token></merchantDatas><transid>645B667BE21A5317</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 99a3f8b78f2cd35c2c1ae96bae622ed0
            [result] => Array
                (
                    [operation] => authorization
                    [status] => ok
                    [date] => 2023-05-10
                    [time] => 09:41:24 UTC+0000
                    [origAmount] => 321.01
                    [origCurrency] => EUR
                    [idForMerchant] => 8686
                    [emailClient] => aymard.francois@gmail.com
                    [idClient] => 22300215
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 8686
                            [_aKey_customer_id] => 3411
                            [_aKey_secure_key] => efa57fd96c7b31c533ac5a6386ed1285
                            [_aKey_token] => ec5af1f887f42cfae4003689f9620eb5
                        )

                    [transid] => 645B667BE21A5317
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 8686
    [3] => 3411
    [4] => efa57fd96c7b31c533ac5a6386ed1285
    [5] => 321.01
)

## 2023-05-10 11:41:26 ##
----> START registerOrder()
## 2023-05-10 11:41:26 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 11:41:26 ##
<result><operation>authorization</operation><status>ok</status><date>2023-05-10</date><time>09:41:24 UTC+0000</time><origAmount>321.01</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8686</idForMerchant><emailClient>aymard.francois@gmail.com</emailClient><idClient>22300215</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8686</_aKey_cart_id>  <_aKey_customer_id>3411</_aKey_customer_id>  <_aKey_secure_key>efa57fd96c7b31c533ac5a6386ed1285</_aKey_secure_key>  <_aKey_token>ec5af1f887f42cfae4003689f9620eb5</_aKey_token></merchantDatas><transid>645B667BE21A5317</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2023-05-10 11:41:26 ##
currency : EUR
## 2023-05-10 11:41:26 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 11:41:26 ##
callback_salt : 
## 2023-05-10 11:41:26 ##
md5 : 99a3f8b78f2cd35c2c1ae96bae622ed0 == md5content : 99a3f8b78f2cd35c2c1ae96bae622ed0
## 2023-05-10 11:41:26 ##
Status = ok
## 2023-05-10 11:41:26 ##
$currency = EUR
## 2023-05-10 11:41:26 ##
id_order_state = 42
## 2023-05-10 11:41:26 ##
----> START placeOrder()
## 2023-05-10 11:41:26 ##
Treatment status = 42
## 2023-05-10 11:41:26 ##
Validate order
## 2023-05-10 11:41:26 ##
Array
(
    [0] => 8686
    [1] => 42
    [2] => 321.01
    [3] => HiPay Professional
    [4] => {"Environment":"PRODUCTION","Payment method":"CB","Transaction ID":"645B667BE21A5317"}
    [5] => Array
        (
            [transaction_id] => 645B667BE21A5317
        )

    [6] => 1
    [7] => efa57fd96c7b31c533ac5a6386ed1285
)

## 2023-05-10 11:41:26 ##
ID Shop = 1
## 2023-05-10 11:41:29 ##
Order created
## 2023-05-10 11:41:29 ##
----> END placeOrder()
## 2023-05-10 11:41:29 ##
----> END registerOrder()
## 2023-05-10 11:41:29 ##
----> Treatment is unlocked for the id_cart = 8686
## 2023-05-10 11:41:35 ##
##########################
## 2023-05-10 11:41:35 ##
START Validation Callback
## 2023-05-10 11:41:35 ##
##########################
## 2023-05-10 11:41:35 ##
----> Treatment is locked for the id_cart = 8686
## 2023-05-10 11:41:35 ##
data for validation
## 2023-05-10 11:41:35 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>f388601316017b3be9eea75d8fec66ff</md5content><result><operation>capture</operation><status>ok</status><date>2023-05-10</date><time>09:41:31 UTC+0000</time><origAmount>321.01</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8686</idForMerchant><emailClient>aymard.francois@gmail.com</emailClient><idClient>22300215</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8686</_aKey_cart_id>  <_aKey_customer_id>3411</_aKey_customer_id>  <_aKey_secure_key>efa57fd96c7b31c533ac5a6386ed1285</_aKey_secure_key>  <_aKey_token>ec5af1f887f42cfae4003689f9620eb5</_aKey_token></merchantDatas><transid>645B667BE21A5317</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => f388601316017b3be9eea75d8fec66ff
            [result] => Array
                (
                    [operation] => capture
                    [status] => ok
                    [date] => 2023-05-10
                    [time] => 09:41:31 UTC+0000
                    [origAmount] => 321.01
                    [origCurrency] => EUR
                    [idForMerchant] => 8686
                    [emailClient] => aymard.francois@gmail.com
                    [idClient] => 22300215
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 8686
                            [_aKey_customer_id] => 3411
                            [_aKey_secure_key] => efa57fd96c7b31c533ac5a6386ed1285
                            [_aKey_token] => ec5af1f887f42cfae4003689f9620eb5
                        )

                    [transid] => 645B667BE21A5317
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 8686
    [3] => 3411
    [4] => efa57fd96c7b31c533ac5a6386ed1285
    [5] => 321.01
)

## 2023-05-10 11:41:35 ##
----> START registerOrder()
## 2023-05-10 11:41:35 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 11:41:35 ##
<result><operation>capture</operation><status>ok</status><date>2023-05-10</date><time>09:41:31 UTC+0000</time><origAmount>321.01</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8686</idForMerchant><emailClient>aymard.francois@gmail.com</emailClient><idClient>22300215</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8686</_aKey_cart_id>  <_aKey_customer_id>3411</_aKey_customer_id>  <_aKey_secure_key>efa57fd96c7b31c533ac5a6386ed1285</_aKey_secure_key>  <_aKey_token>ec5af1f887f42cfae4003689f9620eb5</_aKey_token></merchantDatas><transid>645B667BE21A5317</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2023-05-10 11:41:35 ##
currency : EUR
## 2023-05-10 11:41:35 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 11:41:35 ##
callback_salt : 
## 2023-05-10 11:41:35 ##
md5 : f388601316017b3be9eea75d8fec66ff == md5content : f388601316017b3be9eea75d8fec66ff
## 2023-05-10 11:41:35 ##
Status = ok
## 2023-05-10 11:41:35 ##
$currency = EUR
## 2023-05-10 11:41:35 ##
id_order_state = 2
## 2023-05-10 11:41:35 ##
----> START placeOrder()
## 2023-05-10 11:41:35 ##
Treatment an existing order
## 2023-05-10 11:41:35 ##
If current status order = HIPAY_OS_WAITING Then change status with this id_status = 2
## 2023-05-10 11:41:35 ##
Array
(
    [operation] => capture
    [status] => ok
    [date] => 2023-05-10
    [time] => 09:41:31 UTC+0000
    [origAmount] => 321.01
    [origCurrency] => EUR
    [idForMerchant] => 8686
    [emailClient] => aymard.francois@gmail.com
    [idClient] => 22300215
    [cardCountry] => FR
    [ipCountry] => FR
    [merchantDatas] => Array
        (
            [_aKey_cart_id] => 8686
            [_aKey_customer_id] => 3411
            [_aKey_secure_key] => efa57fd96c7b31c533ac5a6386ed1285
            [_aKey_token] => ec5af1f887f42cfae4003689f9620eb5
        )

    [transid] => 645B667BE21A5317
    [is3ds] => Yes
    [paymentMethod] => CB
    [customerCountry] => FR
    [returnCode] => Array
        (
        )

    [returnDescriptionShort] => Array
        (
        )

    [returnDescriptionLong] => Array
        (
        )

)

## 2023-05-10 11:41:35 ##
----> END placeOrder()
## 2023-05-10 11:41:35 ##
----> END registerOrder()
## 2023-05-10 11:41:35 ##
----> Treatment is unlocked for the id_cart = 8686
## 2023-05-10 11:42:51 ##
##########################
## 2023-05-10 11:42:51 ##
START Validation Callback
## 2023-05-10 11:42:51 ##
##########################
## 2023-05-10 11:42:51 ##
----> Treatment is locked for the id_cart = 8683
## 2023-05-10 11:42:51 ##
data for validation
## 2023-05-10 11:42:51 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>085458bd0a69649d056fc719e51fbb17</md5content><result><operation>authorization</operation><status>nok</status><date>2023-05-10</date><time>09:42:48 UTC+0000</time><origAmount>170.01</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8683</idForMerchant><emailClient>ckschou@gmail.com</emailClient><idClient>22300200</idClient><cardCountry>LI</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8683</_aKey_cart_id>  <_aKey_customer_id>3409</_aKey_customer_id>  <_aKey_secure_key>b6aed9aba379716c508ac4aaa6af9942</_aKey_secure_key>  <_aKey_token>bf292746458587e29068b64c0101c3c3</_aKey_token></merchantDatas><transid>645B66C82581E159</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 085458bd0a69649d056fc719e51fbb17
            [result] => Array
                (
                    [operation] => authorization
                    [status] => nok
                    [date] => 2023-05-10
                    [time] => 09:42:48 UTC+0000
                    [origAmount] => 170.01
                    [origCurrency] => EUR
                    [idForMerchant] => 8683
                    [emailClient] => ckschou@gmail.com
                    [idClient] => 22300200
                    [cardCountry] => LI
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 8683
                            [_aKey_customer_id] => 3409
                            [_aKey_secure_key] => b6aed9aba379716c508ac4aaa6af9942
                            [_aKey_token] => bf292746458587e29068b64c0101c3c3
                        )

                    [transid] => 645B66C82581E159
                    [is3ds] => Yes
                    [paymentMethod] => VISA
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 8683
    [3] => 3409
    [4] => b6aed9aba379716c508ac4aaa6af9942
    [5] => 170.01
)

## 2023-05-10 11:42:51 ##
----> START registerOrder()
## 2023-05-10 11:42:51 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 11:42:51 ##
<result><operation>authorization</operation><status>nok</status><date>2023-05-10</date><time>09:42:48 UTC+0000</time><origAmount>170.01</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8683</idForMerchant><emailClient>ckschou@gmail.com</emailClient><idClient>22300200</idClient><cardCountry>LI</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8683</_aKey_cart_id>  <_aKey_customer_id>3409</_aKey_customer_id>  <_aKey_secure_key>b6aed9aba379716c508ac4aaa6af9942</_aKey_secure_key>  <_aKey_token>bf292746458587e29068b64c0101c3c3</_aKey_token></merchantDatas><transid>645B66C82581E159</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2023-05-10 11:42:51 ##
currency : EUR
## 2023-05-10 11:42:51 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 11:42:51 ##
callback_salt : 
## 2023-05-10 11:42:51 ##
md5 : 085458bd0a69649d056fc719e51fbb17 == md5content : 085458bd0a69649d056fc719e51fbb17
## 2023-05-10 11:42:51 ##
Status = nok
## 2023-05-10 11:42:51 ##
$currency = EUR
## 2023-05-10 11:42:51 ##
id_order_state = 8
## 2023-05-10 11:42:51 ##
----> START placeOrder()
## 2023-05-10 11:42:51 ##
Treatment status = ERROR
## 2023-05-10 11:42:51 ##
Array
(
    [operation] =&gt; authorization
    [status] =&gt; nok
    [date] =&gt; 2023-05-10
    [time] =&gt; 09:42:48 UTC+0000
    [origAmount] =&gt; 170.01
    [origCurrency] =&gt; EUR
    [idForMerchant] =&gt; 8683
    [emailClient] =&gt; ckschou@gmail.com
    [idClient] =&gt; 22300200
    [cardCountry] =&gt; LI
    [ipCountry] =&gt; FR
    [merchantDatas] =&gt; Array
        (
            [_aKey_cart_id] =&gt; 8683
            [_aKey_customer_id] =&gt; 3409
            [_aKey_secure_key] =&gt; b6aed9aba379716c508ac4aaa6af9942
            [_aKey_token] =&gt; bf292746458587e29068b64c0101c3c3
        )

    [transid] =&gt; 645B66C82581E159
    [is3ds] =&gt; Yes
    [paymentMethod] =&gt; VISA
    [customerCountry] =&gt; FR
    [returnCode] =&gt; Array
        (
        )

    [returnDescriptionShort] =&gt; Array
        (
        )

    [returnDescriptionLong] =&gt; Array
        (
        )

)

## 2023-05-10 11:42:51 ##
----> END placeOrder()
## 2023-05-10 11:42:51 ##
----> END registerOrder()
## 2023-05-10 11:42:51 ##
----> Treatment is unlocked for the id_cart = 8683
## 2023-05-10 11:45:26 ##
##########################
## 2023-05-10 11:45:26 ##
START Validation Callback
## 2023-05-10 11:45:26 ##
##########################
## 2023-05-10 11:45:26 ##
----> Treatment is locked for the id_cart = 8683
## 2023-05-10 11:45:26 ##
data for validation
## 2023-05-10 11:45:26 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>c0eedf9cc087a0127a4eb2d182ee3b82</md5content><result><operation>authorization</operation><status>ok</status><date>2023-05-10</date><time>09:45:23 UTC+0000</time><origAmount>170.01</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8683</idForMerchant><emailClient>ckschou@gmail.com</emailClient><idClient>22300200</idClient><cardCountry>LI</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8683</_aKey_cart_id>  <_aKey_customer_id>3409</_aKey_customer_id>  <_aKey_secure_key>b6aed9aba379716c508ac4aaa6af9942</_aKey_secure_key>  <_aKey_token>bf292746458587e29068b64c0101c3c3</_aKey_token></merchantDatas><transid>645B67845A4D3765</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => c0eedf9cc087a0127a4eb2d182ee3b82
            [result] => Array
                (
                    [operation] => authorization
                    [status] => ok
                    [date] => 2023-05-10
                    [time] => 09:45:23 UTC+0000
                    [origAmount] => 170.01
                    [origCurrency] => EUR
                    [idForMerchant] => 8683
                    [emailClient] => ckschou@gmail.com
                    [idClient] => 22300200
                    [cardCountry] => LI
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 8683
                            [_aKey_customer_id] => 3409
                            [_aKey_secure_key] => b6aed9aba379716c508ac4aaa6af9942
                            [_aKey_token] => bf292746458587e29068b64c0101c3c3
                        )

                    [transid] => 645B67845A4D3765
                    [is3ds] => Yes
                    [paymentMethod] => VISA
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 8683
    [3] => 3409
    [4] => b6aed9aba379716c508ac4aaa6af9942
    [5] => 170.01
)

## 2023-05-10 11:45:26 ##
----> START registerOrder()
## 2023-05-10 11:45:26 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 11:45:26 ##
<result><operation>authorization</operation><status>ok</status><date>2023-05-10</date><time>09:45:23 UTC+0000</time><origAmount>170.01</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8683</idForMerchant><emailClient>ckschou@gmail.com</emailClient><idClient>22300200</idClient><cardCountry>LI</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8683</_aKey_cart_id>  <_aKey_customer_id>3409</_aKey_customer_id>  <_aKey_secure_key>b6aed9aba379716c508ac4aaa6af9942</_aKey_secure_key>  <_aKey_token>bf292746458587e29068b64c0101c3c3</_aKey_token></merchantDatas><transid>645B67845A4D3765</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2023-05-10 11:45:26 ##
currency : EUR
## 2023-05-10 11:45:26 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 11:45:26 ##
callback_salt : 
## 2023-05-10 11:45:26 ##
md5 : c0eedf9cc087a0127a4eb2d182ee3b82 == md5content : c0eedf9cc087a0127a4eb2d182ee3b82
## 2023-05-10 11:45:26 ##
Status = ok
## 2023-05-10 11:45:26 ##
$currency = EUR
## 2023-05-10 11:45:26 ##
id_order_state = 42
## 2023-05-10 11:45:26 ##
----> START placeOrder()
## 2023-05-10 11:45:26 ##
Treatment status = 42
## 2023-05-10 11:45:26 ##
Validate order
## 2023-05-10 11:45:26 ##
Array
(
    [0] => 8683
    [1] => 42
    [2] => 170.01
    [3] => HiPay Professional
    [4] => {"Environment":"PRODUCTION","Payment method":"VISA","Transaction ID":"645B67845A4D3765"}
    [5] => Array
        (
            [transaction_id] => 645B67845A4D3765
        )

    [6] => 1
    [7] => b6aed9aba379716c508ac4aaa6af9942
)

## 2023-05-10 11:45:26 ##
ID Shop = 1
## 2023-05-10 11:45:28 ##
Order created
## 2023-05-10 11:45:28 ##
----> END placeOrder()
## 2023-05-10 11:45:28 ##
----> END registerOrder()
## 2023-05-10 11:45:28 ##
----> Treatment is unlocked for the id_cart = 8683
## 2023-05-10 11:45:32 ##
##########################
## 2023-05-10 11:45:32 ##
START Validation Callback
## 2023-05-10 11:45:32 ##
##########################
## 2023-05-10 11:45:32 ##
----> Treatment is locked for the id_cart = 8683
## 2023-05-10 11:45:32 ##
data for validation
## 2023-05-10 11:45:32 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>d83737c613cd9663ad296a6fa367ec50</md5content><result><operation>capture</operation><status>ok</status><date>2023-05-10</date><time>09:45:30 UTC+0000</time><origAmount>170.01</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8683</idForMerchant><emailClient>ckschou@gmail.com</emailClient><idClient>22300200</idClient><cardCountry>LI</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8683</_aKey_cart_id>  <_aKey_customer_id>3409</_aKey_customer_id>  <_aKey_secure_key>b6aed9aba379716c508ac4aaa6af9942</_aKey_secure_key>  <_aKey_token>bf292746458587e29068b64c0101c3c3</_aKey_token></merchantDatas><transid>645B67845A4D3765</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => d83737c613cd9663ad296a6fa367ec50
            [result] => Array
                (
                    [operation] => capture
                    [status] => ok
                    [date] => 2023-05-10
                    [time] => 09:45:30 UTC+0000
                    [origAmount] => 170.01
                    [origCurrency] => EUR
                    [idForMerchant] => 8683
                    [emailClient] => ckschou@gmail.com
                    [idClient] => 22300200
                    [cardCountry] => LI
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 8683
                            [_aKey_customer_id] => 3409
                            [_aKey_secure_key] => b6aed9aba379716c508ac4aaa6af9942
                            [_aKey_token] => bf292746458587e29068b64c0101c3c3
                        )

                    [transid] => 645B67845A4D3765
                    [is3ds] => Yes
                    [paymentMethod] => VISA
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 8683
    [3] => 3409
    [4] => b6aed9aba379716c508ac4aaa6af9942
    [5] => 170.01
)

## 2023-05-10 11:45:32 ##
----> START registerOrder()
## 2023-05-10 11:45:32 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 11:45:32 ##
<result><operation>capture</operation><status>ok</status><date>2023-05-10</date><time>09:45:30 UTC+0000</time><origAmount>170.01</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8683</idForMerchant><emailClient>ckschou@gmail.com</emailClient><idClient>22300200</idClient><cardCountry>LI</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8683</_aKey_cart_id>  <_aKey_customer_id>3409</_aKey_customer_id>  <_aKey_secure_key>b6aed9aba379716c508ac4aaa6af9942</_aKey_secure_key>  <_aKey_token>bf292746458587e29068b64c0101c3c3</_aKey_token></merchantDatas><transid>645B67845A4D3765</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2023-05-10 11:45:32 ##
currency : EUR
## 2023-05-10 11:45:32 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 11:45:32 ##
callback_salt : 
## 2023-05-10 11:45:32 ##
md5 : d83737c613cd9663ad296a6fa367ec50 == md5content : d83737c613cd9663ad296a6fa367ec50
## 2023-05-10 11:45:32 ##
Status = ok
## 2023-05-10 11:45:32 ##
$currency = EUR
## 2023-05-10 11:45:32 ##
id_order_state = 2
## 2023-05-10 11:45:32 ##
----> START placeOrder()
## 2023-05-10 11:45:32 ##
Treatment an existing order
## 2023-05-10 11:45:32 ##
If current status order = HIPAY_OS_WAITING Then change status with this id_status = 2
## 2023-05-10 11:45:32 ##
Array
(
    [operation] => capture
    [status] => ok
    [date] => 2023-05-10
    [time] => 09:45:30 UTC+0000
    [origAmount] => 170.01
    [origCurrency] => EUR
    [idForMerchant] => 8683
    [emailClient] => ckschou@gmail.com
    [idClient] => 22300200
    [cardCountry] => LI
    [ipCountry] => FR
    [merchantDatas] => Array
        (
            [_aKey_cart_id] => 8683
            [_aKey_customer_id] => 3409
            [_aKey_secure_key] => b6aed9aba379716c508ac4aaa6af9942
            [_aKey_token] => bf292746458587e29068b64c0101c3c3
        )

    [transid] => 645B67845A4D3765
    [is3ds] => Yes
    [paymentMethod] => VISA
    [customerCountry] => FR
    [returnCode] => Array
        (
        )

    [returnDescriptionShort] => Array
        (
        )

    [returnDescriptionLong] => Array
        (
        )

)

## 2023-05-10 11:45:32 ##
----> END placeOrder()
## 2023-05-10 11:45:32 ##
----> END registerOrder()
## 2023-05-10 11:45:32 ##
----> Treatment is unlocked for the id_cart = 8683
## 2023-05-10 12:40:56 ##
##########################
## 2023-05-10 12:40:56 ##
START Validation Callback
## 2023-05-10 12:40:56 ##
##########################
## 2023-05-10 12:40:56 ##
----> Treatment is locked for the id_cart = 8689
## 2023-05-10 12:40:56 ##
data for validation
## 2023-05-10 12:40:56 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>ab3df0abb30b2b187152756ec96d4645</md5content><result><operation>authorization</operation><status>nok</status><date>2023-05-10</date><time>10:40:54 UTC+0000</time><origAmount>134.75</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8689</idForMerchant><emailClient>entreprise.bcd95@gmail.com</emailClient><idClient>22300412</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8689</_aKey_cart_id>  <_aKey_customer_id>3412</_aKey_customer_id>  <_aKey_secure_key>287f990f5b2daf759100830723ce5c4a</_aKey_secure_key>  <_aKey_token>a7ba4d8a695d777fa5abfed7b85d32d4</_aKey_token></merchantDatas><transid>645B748D9CD34765</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => ab3df0abb30b2b187152756ec96d4645
            [result] => Array
                (
                    [operation] => authorization
                    [status] => nok
                    [date] => 2023-05-10
                    [time] => 10:40:54 UTC+0000
                    [origAmount] => 134.75
                    [origCurrency] => EUR
                    [idForMerchant] => 8689
                    [emailClient] => entreprise.bcd95@gmail.com
                    [idClient] => 22300412
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 8689
                            [_aKey_customer_id] => 3412
                            [_aKey_secure_key] => 287f990f5b2daf759100830723ce5c4a
                            [_aKey_token] => a7ba4d8a695d777fa5abfed7b85d32d4
                        )

                    [transid] => 645B748D9CD34765
                    [is3ds] => Yes
                    [paymentMethod] => VISA
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 8689
    [3] => 3412
    [4] => 287f990f5b2daf759100830723ce5c4a
    [5] => 134.75
)

## 2023-05-10 12:40:56 ##
----> START registerOrder()
## 2023-05-10 12:40:56 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 12:40:56 ##
<result><operation>authorization</operation><status>nok</status><date>2023-05-10</date><time>10:40:54 UTC+0000</time><origAmount>134.75</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8689</idForMerchant><emailClient>entreprise.bcd95@gmail.com</emailClient><idClient>22300412</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8689</_aKey_cart_id>  <_aKey_customer_id>3412</_aKey_customer_id>  <_aKey_secure_key>287f990f5b2daf759100830723ce5c4a</_aKey_secure_key>  <_aKey_token>a7ba4d8a695d777fa5abfed7b85d32d4</_aKey_token></merchantDatas><transid>645B748D9CD34765</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2023-05-10 12:40:56 ##
currency : EUR
## 2023-05-10 12:40:56 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 12:40:56 ##
callback_salt : 
## 2023-05-10 12:40:56 ##
md5 : ab3df0abb30b2b187152756ec96d4645 == md5content : ab3df0abb30b2b187152756ec96d4645
## 2023-05-10 12:40:56 ##
Status = nok
## 2023-05-10 12:40:56 ##
$currency = EUR
## 2023-05-10 12:40:56 ##
id_order_state = 8
## 2023-05-10 12:40:56 ##
----> START placeOrder()
## 2023-05-10 12:40:56 ##
Treatment status = ERROR
## 2023-05-10 12:40:56 ##
Array
(
    [operation] =&gt; authorization
    [status] =&gt; nok
    [date] =&gt; 2023-05-10
    [time] =&gt; 10:40:54 UTC+0000
    [origAmount] =&gt; 134.75
    [origCurrency] =&gt; EUR
    [idForMerchant] =&gt; 8689
    [emailClient] =&gt; entreprise.bcd95@gmail.com
    [idClient] =&gt; 22300412
    [cardCountry] =&gt; FR
    [ipCountry] =&gt; FR
    [merchantDatas] =&gt; Array
        (
            [_aKey_cart_id] =&gt; 8689
            [_aKey_customer_id] =&gt; 3412
            [_aKey_secure_key] =&gt; 287f990f5b2daf759100830723ce5c4a
            [_aKey_token] =&gt; a7ba4d8a695d777fa5abfed7b85d32d4
        )

    [transid] =&gt; 645B748D9CD34765
    [is3ds] =&gt; Yes
    [paymentMethod] =&gt; VISA
    [customerCountry] =&gt; FR
    [returnCode] =&gt; Array
        (
        )

    [returnDescriptionShort] =&gt; Array
        (
        )

    [returnDescriptionLong] =&gt; Array
        (
        )

)

## 2023-05-10 12:40:56 ##
----> END placeOrder()
## 2023-05-10 12:40:56 ##
----> END registerOrder()
## 2023-05-10 12:40:56 ##
----> Treatment is unlocked for the id_cart = 8689
## 2023-05-10 12:42:02 ##
##########################
## 2023-05-10 12:42:02 ##
START Validation Callback
## 2023-05-10 12:42:02 ##
##########################
## 2023-05-10 12:42:02 ##
----> Treatment is locked for the id_cart = 8689
## 2023-05-10 12:42:02 ##
data for validation
## 2023-05-10 12:42:02 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>cc7b5acec34206e899b8ffce041203b5</md5content><result><operation>authorization</operation><status>nok</status><date>2023-05-10</date><time>10:42:00 UTC+0000</time><origAmount>134.75</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8689</idForMerchant><emailClient>entreprise.bcd95@gmail.com</emailClient><idClient>22300412</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8689</_aKey_cart_id>  <_aKey_customer_id>3412</_aKey_customer_id>  <_aKey_secure_key>287f990f5b2daf759100830723ce5c4a</_aKey_secure_key>  <_aKey_token>a7ba4d8a695d777fa5abfed7b85d32d4</_aKey_token></merchantDatas><transid>645B74D3137B9159</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => cc7b5acec34206e899b8ffce041203b5
            [result] => Array
                (
                    [operation] => authorization
                    [status] => nok
                    [date] => 2023-05-10
                    [time] => 10:42:00 UTC+0000
                    [origAmount] => 134.75
                    [origCurrency] => EUR
                    [idForMerchant] => 8689
                    [emailClient] => entreprise.bcd95@gmail.com
                    [idClient] => 22300412
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 8689
                            [_aKey_customer_id] => 3412
                            [_aKey_secure_key] => 287f990f5b2daf759100830723ce5c4a
                            [_aKey_token] => a7ba4d8a695d777fa5abfed7b85d32d4
                        )

                    [transid] => 645B74D3137B9159
                    [is3ds] => Yes
                    [paymentMethod] => VISA
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 8689
    [3] => 3412
    [4] => 287f990f5b2daf759100830723ce5c4a
    [5] => 134.75
)

## 2023-05-10 12:42:02 ##
----> START registerOrder()
## 2023-05-10 12:42:02 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 12:42:02 ##
<result><operation>authorization</operation><status>nok</status><date>2023-05-10</date><time>10:42:00 UTC+0000</time><origAmount>134.75</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8689</idForMerchant><emailClient>entreprise.bcd95@gmail.com</emailClient><idClient>22300412</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8689</_aKey_cart_id>  <_aKey_customer_id>3412</_aKey_customer_id>  <_aKey_secure_key>287f990f5b2daf759100830723ce5c4a</_aKey_secure_key>  <_aKey_token>a7ba4d8a695d777fa5abfed7b85d32d4</_aKey_token></merchantDatas><transid>645B74D3137B9159</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2023-05-10 12:42:02 ##
currency : EUR
## 2023-05-10 12:42:02 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 12:42:02 ##
callback_salt : 
## 2023-05-10 12:42:02 ##
md5 : cc7b5acec34206e899b8ffce041203b5 == md5content : cc7b5acec34206e899b8ffce041203b5
## 2023-05-10 12:42:02 ##
Status = nok
## 2023-05-10 12:42:02 ##
$currency = EUR
## 2023-05-10 12:42:02 ##
id_order_state = 8
## 2023-05-10 12:42:02 ##
----> START placeOrder()
## 2023-05-10 12:42:02 ##
Treatment status = ERROR
## 2023-05-10 12:42:02 ##
Array
(
    [operation] =&gt; authorization
    [status] =&gt; nok
    [date] =&gt; 2023-05-10
    [time] =&gt; 10:42:00 UTC+0000
    [origAmount] =&gt; 134.75
    [origCurrency] =&gt; EUR
    [idForMerchant] =&gt; 8689
    [emailClient] =&gt; entreprise.bcd95@gmail.com
    [idClient] =&gt; 22300412
    [cardCountry] =&gt; FR
    [ipCountry] =&gt; FR
    [merchantDatas] =&gt; Array
        (
            [_aKey_cart_id] =&gt; 8689
            [_aKey_customer_id] =&gt; 3412
            [_aKey_secure_key] =&gt; 287f990f5b2daf759100830723ce5c4a
            [_aKey_token] =&gt; a7ba4d8a695d777fa5abfed7b85d32d4
        )

    [transid] =&gt; 645B74D3137B9159
    [is3ds] =&gt; Yes
    [paymentMethod] =&gt; VISA
    [customerCountry] =&gt; FR
    [returnCode] =&gt; Array
        (
        )

    [returnDescriptionShort] =&gt; Array
        (
        )

    [returnDescriptionLong] =&gt; Array
        (
        )

)

## 2023-05-10 12:42:02 ##
----> END placeOrder()
## 2023-05-10 12:42:02 ##
----> END registerOrder()
## 2023-05-10 12:42:02 ##
----> Treatment is unlocked for the id_cart = 8689
## 2023-05-10 13:24:22 ##
##########################
## 2023-05-10 13:24:22 ##
START Validation Callback
## 2023-05-10 13:24:22 ##
##########################
## 2023-05-10 13:24:22 ##
----> Treatment is locked for the id_cart = 8689
## 2023-05-10 13:24:22 ##
data for validation
## 2023-05-10 13:24:22 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>63dafce11e1b1b6aa1a4280a9f5a25f4</md5content><result><operation>authorization</operation><status>nok</status><date>2023-05-10</date><time>11:24:20 UTC+0000</time><origAmount>134.75</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8689</idForMerchant><emailClient>entreprise.bcd95@gmail.com</emailClient><idClient>22300412</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8689</_aKey_cart_id>  <_aKey_customer_id>3412</_aKey_customer_id>  <_aKey_secure_key>287f990f5b2daf759100830723ce5c4a</_aKey_secure_key>  <_aKey_token>a7ba4d8a695d777fa5abfed7b85d32d4</_aKey_token></merchantDatas><transid>645B7EB9510EB765</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 63dafce11e1b1b6aa1a4280a9f5a25f4
            [result] => Array
                (
                    [operation] => authorization
                    [status] => nok
                    [date] => 2023-05-10
                    [time] => 11:24:20 UTC+0000
                    [origAmount] => 134.75
                    [origCurrency] => EUR
                    [idForMerchant] => 8689
                    [emailClient] => entreprise.bcd95@gmail.com
                    [idClient] => 22300412
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 8689
                            [_aKey_customer_id] => 3412
                            [_aKey_secure_key] => 287f990f5b2daf759100830723ce5c4a
                            [_aKey_token] => a7ba4d8a695d777fa5abfed7b85d32d4
                        )

                    [transid] => 645B7EB9510EB765
                    [is3ds] => Yes
                    [paymentMethod] => VISA
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 8689
    [3] => 3412
    [4] => 287f990f5b2daf759100830723ce5c4a
    [5] => 134.75
)

## 2023-05-10 13:24:22 ##
----> START registerOrder()
## 2023-05-10 13:24:22 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 13:24:22 ##
<result><operation>authorization</operation><status>nok</status><date>2023-05-10</date><time>11:24:20 UTC+0000</time><origAmount>134.75</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8689</idForMerchant><emailClient>entreprise.bcd95@gmail.com</emailClient><idClient>22300412</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8689</_aKey_cart_id>  <_aKey_customer_id>3412</_aKey_customer_id>  <_aKey_secure_key>287f990f5b2daf759100830723ce5c4a</_aKey_secure_key>  <_aKey_token>a7ba4d8a695d777fa5abfed7b85d32d4</_aKey_token></merchantDatas><transid>645B7EB9510EB765</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2023-05-10 13:24:22 ##
currency : EUR
## 2023-05-10 13:24:22 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 13:24:22 ##
callback_salt : 
## 2023-05-10 13:24:22 ##
md5 : 63dafce11e1b1b6aa1a4280a9f5a25f4 == md5content : 63dafce11e1b1b6aa1a4280a9f5a25f4
## 2023-05-10 13:24:22 ##
Status = nok
## 2023-05-10 13:24:22 ##
$currency = EUR
## 2023-05-10 13:24:22 ##
id_order_state = 8
## 2023-05-10 13:24:22 ##
----> START placeOrder()
## 2023-05-10 13:24:22 ##
Treatment status = ERROR
## 2023-05-10 13:24:22 ##
Array
(
    [operation] =&gt; authorization
    [status] =&gt; nok
    [date] =&gt; 2023-05-10
    [time] =&gt; 11:24:20 UTC+0000
    [origAmount] =&gt; 134.75
    [origCurrency] =&gt; EUR
    [idForMerchant] =&gt; 8689
    [emailClient] =&gt; entreprise.bcd95@gmail.com
    [idClient] =&gt; 22300412
    [cardCountry] =&gt; FR
    [ipCountry] =&gt; FR
    [merchantDatas] =&gt; Array
        (
            [_aKey_cart_id] =&gt; 8689
            [_aKey_customer_id] =&gt; 3412
            [_aKey_secure_key] =&gt; 287f990f5b2daf759100830723ce5c4a
            [_aKey_token] =&gt; a7ba4d8a695d777fa5abfed7b85d32d4
        )

    [transid] =&gt; 645B7EB9510EB765
    [is3ds] =&gt; Yes
    [paymentMethod] =&gt; VISA
    [customerCountry] =&gt; FR
    [returnCode] =&gt; Array
        (
        )

    [returnDescriptionShort] =&gt; Array
        (
        )

    [returnDescriptionLong] =&gt; Array
        (
        )

)

## 2023-05-10 13:24:22 ##
----> END placeOrder()
## 2023-05-10 13:24:22 ##
----> END registerOrder()
## 2023-05-10 13:24:22 ##
----> Treatment is unlocked for the id_cart = 8689
## 2023-05-10 13:53:14 ##
##########################
## 2023-05-10 13:53:14 ##
START Validation Callback
## 2023-05-10 13:53:14 ##
##########################
## 2023-05-10 13:53:14 ##
----> Treatment is locked for the id_cart = 8691
## 2023-05-10 13:53:14 ##
data for validation
## 2023-05-10 13:53:14 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>e34e980d5d1cb946ab8dbda403ae6f8f</md5content><result><operation>authorization</operation><status>ok</status><date>2023-05-10</date><time>11:53:12 UTC+0000</time><origAmount>74.30</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8691</idForMerchant><emailClient>julien.olivier450xr@gmail.com</emailClient><idClient>22300622</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8691</_aKey_cart_id>  <_aKey_customer_id>3414</_aKey_customer_id>  <_aKey_secure_key>cbde0d34a65bd5031acbba1fa2f41436</_aKey_secure_key>  <_aKey_token>80ce0159632c571a2a50171cf9ca3dc0</_aKey_token></merchantDatas><transid>645B853FC2905159</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => e34e980d5d1cb946ab8dbda403ae6f8f
            [result] => Array
                (
                    [operation] => authorization
                    [status] => ok
                    [date] => 2023-05-10
                    [time] => 11:53:12 UTC+0000
                    [origAmount] => 74.30
                    [origCurrency] => EUR
                    [idForMerchant] => 8691
                    [emailClient] => julien.olivier450xr@gmail.com
                    [idClient] => 22300622
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 8691
                            [_aKey_customer_id] => 3414
                            [_aKey_secure_key] => cbde0d34a65bd5031acbba1fa2f41436
                            [_aKey_token] => 80ce0159632c571a2a50171cf9ca3dc0
                        )

                    [transid] => 645B853FC2905159
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 8691
    [3] => 3414
    [4] => cbde0d34a65bd5031acbba1fa2f41436
    [5] => 74.3
)

## 2023-05-10 13:53:14 ##
----> START registerOrder()
## 2023-05-10 13:53:14 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 13:53:14 ##
<result><operation>authorization</operation><status>ok</status><date>2023-05-10</date><time>11:53:12 UTC+0000</time><origAmount>74.30</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8691</idForMerchant><emailClient>julien.olivier450xr@gmail.com</emailClient><idClient>22300622</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8691</_aKey_cart_id>  <_aKey_customer_id>3414</_aKey_customer_id>  <_aKey_secure_key>cbde0d34a65bd5031acbba1fa2f41436</_aKey_secure_key>  <_aKey_token>80ce0159632c571a2a50171cf9ca3dc0</_aKey_token></merchantDatas><transid>645B853FC2905159</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2023-05-10 13:53:14 ##
currency : EUR
## 2023-05-10 13:53:14 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 13:53:14 ##
callback_salt : 
## 2023-05-10 13:53:14 ##
md5 : e34e980d5d1cb946ab8dbda403ae6f8f == md5content : e34e980d5d1cb946ab8dbda403ae6f8f
## 2023-05-10 13:53:14 ##
Status = ok
## 2023-05-10 13:53:14 ##
$currency = EUR
## 2023-05-10 13:53:14 ##
id_order_state = 42
## 2023-05-10 13:53:14 ##
----> START placeOrder()
## 2023-05-10 13:53:14 ##
Treatment status = 42
## 2023-05-10 13:53:14 ##
Validate order
## 2023-05-10 13:53:14 ##
Array
(
    [0] => 8691
    [1] => 42
    [2] => 74.3
    [3] => HiPay Professional
    [4] => {"Environment":"PRODUCTION","Payment method":"CB","Transaction ID":"645B853FC2905159"}
    [5] => Array
        (
            [transaction_id] => 645B853FC2905159
        )

    [6] => 1
    [7] => cbde0d34a65bd5031acbba1fa2f41436
)

## 2023-05-10 13:53:14 ##
ID Shop = 1
## 2023-05-10 13:53:16 ##
Order created
## 2023-05-10 13:53:16 ##
----> END placeOrder()
## 2023-05-10 13:53:16 ##
----> END registerOrder()
## 2023-05-10 13:53:16 ##
----> Treatment is unlocked for the id_cart = 8691
## 2023-05-10 13:53:20 ##
##########################
## 2023-05-10 13:53:20 ##
START Validation Callback
## 2023-05-10 13:53:20 ##
##########################
## 2023-05-10 13:53:20 ##
----> Treatment is locked for the id_cart = 8691
## 2023-05-10 13:53:20 ##
data for validation
## 2023-05-10 13:53:20 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>dccd45d6e47aec19b23bb66de3672dd6</md5content><result><operation>capture</operation><status>ok</status><date>2023-05-10</date><time>11:53:18 UTC+0000</time><origAmount>74.30</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8691</idForMerchant><emailClient>julien.olivier450xr@gmail.com</emailClient><idClient>22300622</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8691</_aKey_cart_id>  <_aKey_customer_id>3414</_aKey_customer_id>  <_aKey_secure_key>cbde0d34a65bd5031acbba1fa2f41436</_aKey_secure_key>  <_aKey_token>80ce0159632c571a2a50171cf9ca3dc0</_aKey_token></merchantDatas><transid>645B853FC2905159</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => dccd45d6e47aec19b23bb66de3672dd6
            [result] => Array
                (
                    [operation] => capture
                    [status] => ok
                    [date] => 2023-05-10
                    [time] => 11:53:18 UTC+0000
                    [origAmount] => 74.30
                    [origCurrency] => EUR
                    [idForMerchant] => 8691
                    [emailClient] => julien.olivier450xr@gmail.com
                    [idClient] => 22300622
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 8691
                            [_aKey_customer_id] => 3414
                            [_aKey_secure_key] => cbde0d34a65bd5031acbba1fa2f41436
                            [_aKey_token] => 80ce0159632c571a2a50171cf9ca3dc0
                        )

                    [transid] => 645B853FC2905159
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 8691
    [3] => 3414
    [4] => cbde0d34a65bd5031acbba1fa2f41436
    [5] => 74.3
)

## 2023-05-10 13:53:20 ##
----> START registerOrder()
## 2023-05-10 13:53:20 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 13:53:20 ##
<result><operation>capture</operation><status>ok</status><date>2023-05-10</date><time>11:53:18 UTC+0000</time><origAmount>74.30</origAmount><origCurrency>EUR</origCurrency><idForMerchant>8691</idForMerchant><emailClient>julien.olivier450xr@gmail.com</emailClient><idClient>22300622</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>8691</_aKey_cart_id>  <_aKey_customer_id>3414</_aKey_customer_id>  <_aKey_secure_key>cbde0d34a65bd5031acbba1fa2f41436</_aKey_secure_key>  <_aKey_token>80ce0159632c571a2a50171cf9ca3dc0</_aKey_token></merchantDatas><transid>645B853FC2905159</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2023-05-10 13:53:20 ##
currency : EUR
## 2023-05-10 13:53:20 ##
accountID:13248407 / websiteId:418801
## 2023-05-10 13:53:20 ##
callback_salt : 
## 2023-05-10 13:53:20 ##
md5 : dccd45d6e47aec19b23bb66de3672dd6 == md5content : dccd45d6e47aec19b23bb66de3672dd6
## 2023-05-10 13:53:20 ##
Status = ok
## 2023-05-10 13:53:20 ##
$currency = EUR
## 2023-05-10 13:53:20 ##
id_order_state = 2
## 2023-05-10 13:53:20 ##
----> START placeOrder()
## 2023-05-10 13:53:20 ##
Treatment an existing order
## 2023-05-10 13:53:20 ##
If current status order = HIPAY_OS_WAITING Then change status with this id_status = 2
## 2023-05-10 13:53:20 ##
Array
(
    [operation] => capture
    [status] => ok
    [date] => 2023-05-10
    [time] => 11:53:18 UTC+0000
    [origAmount] => 74.30
    [origCurrency] => EUR
    [idForMerchant] => 8691
    [emailClient] => julien.olivier450xr@gmail.com
    [idClient] => 22300622
    [cardCountry] => FR
    [ipCountry] => FR
    [merchantDatas] => Array
        (
            [_aKey_cart_id] => 8691
            [_aKey_customer_id] => 3414
            [_aKey_secure_key] => cbde0d34a65bd5031acbba1fa2f41436
            [_aKey_token] => 80ce0159632c571a2a50171cf9ca3dc0
        )

    [transid] => 645B853FC2905159
    [is3ds] => Yes
    [paymentMethod] => CB
    [customerCountry] => FR
    [returnCode] => Array
        (
        )

    [returnDescriptionShort] => Array
        (
        )

    [returnDescriptionLong] => Array
        (
        )

)

## 2023-05-10 13:53:20 ##
----> END placeOrder()
## 2023-05-10 13:53:20 ##
----> END registerOrder()
## 2023-05-10 13:53:20 ##
----> Treatment is unlocked for the id_cart = 8691
