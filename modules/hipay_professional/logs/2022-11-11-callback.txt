## 2022-11-11 19:45:03 ##
##########################
## 2022-11-11 19:45:03 ##
START Validation Callback
## 2022-11-11 19:45:03 ##
##########################
## 2022-11-11 19:45:03 ##
----> Treatment is locked for the id_cart = 5864
## 2022-11-11 19:45:03 ##
data for validation
## 2022-11-11 19:45:03 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>e0d35fb5dcaef4724bc340bd315bfeab</md5content><result><operation>authorization</operation><status>nok</status><date>2022-11-11</date><time>18:45:01 UTC+0000</time><origAmount>36.56</origAmount><origCurrency>EUR</origCurrency><idForMerchant>5864</idForMerchant><emailClient>remi.diligeart@hotmail.com</emailClient><idClient>21657699</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>5864</_aKey_cart_id>  <_aKey_customer_id>2785</_aKey_customer_id>  <_aKey_secure_key>0271d8ccf0cc449c781d239423660f5c</_aKey_secure_key>  <_aKey_token>c792dda3ac6862ff42a69b23d46949d4</_aKey_token></merchantDatas><transid>636E9823D17C7138</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => e0d35fb5dcaef4724bc340bd315bfeab
            [result] => Array
                (
                    [operation] => authorization
                    [status] => nok
                    [date] => 2022-11-11
                    [time] => 18:45:01 UTC+0000
                    [origAmount] => 36.56
                    [origCurrency] => EUR
                    [idForMerchant] => 5864
                    [emailClient] => remi.diligeart@hotmail.com
                    [idClient] => 21657699
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 5864
                            [_aKey_customer_id] => 2785
                            [_aKey_secure_key] => 0271d8ccf0cc449c781d239423660f5c
                            [_aKey_token] => c792dda3ac6862ff42a69b23d46949d4
                        )

                    [transid] => 636E9823D17C7138
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 5864
    [3] => 2785
    [4] => 0271d8ccf0cc449c781d239423660f5c
    [5] => 36.56
)

## 2022-11-11 19:45:03 ##
----> START registerOrder()
## 2022-11-11 19:45:03 ##
accountID:13248407 / websiteId:418801
## 2022-11-11 19:45:03 ##
<result><operation>authorization</operation><status>nok</status><date>2022-11-11</date><time>18:45:01 UTC+0000</time><origAmount>36.56</origAmount><origCurrency>EUR</origCurrency><idForMerchant>5864</idForMerchant><emailClient>remi.diligeart@hotmail.com</emailClient><idClient>21657699</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>5864</_aKey_cart_id>  <_aKey_customer_id>2785</_aKey_customer_id>  <_aKey_secure_key>0271d8ccf0cc449c781d239423660f5c</_aKey_secure_key>  <_aKey_token>c792dda3ac6862ff42a69b23d46949d4</_aKey_token></merchantDatas><transid>636E9823D17C7138</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2022-11-11 19:45:03 ##
currency : EUR
## 2022-11-11 19:45:03 ##
accountID:13248407 / websiteId:418801
## 2022-11-11 19:45:03 ##
callback_salt : 
## 2022-11-11 19:45:03 ##
md5 : e0d35fb5dcaef4724bc340bd315bfeab == md5content : e0d35fb5dcaef4724bc340bd315bfeab
## 2022-11-11 19:45:03 ##
Status = nok
## 2022-11-11 19:45:03 ##
$currency = EUR
## 2022-11-11 19:45:03 ##
id_order_state = 8
## 2022-11-11 19:45:03 ##
----> START placeOrder()
## 2022-11-11 19:45:03 ##
Treatment status = ERROR
## 2022-11-11 19:45:03 ##
Array
(
    [operation] =&gt; authorization
    [status] =&gt; nok
    [date] =&gt; 2022-11-11
    [time] =&gt; 18:45:01 UTC+0000
    [origAmount] =&gt; 36.56
    [origCurrency] =&gt; EUR
    [idForMerchant] =&gt; 5864
    [emailClient] =&gt; remi.diligeart@hotmail.com
    [idClient] =&gt; 21657699
    [cardCountry] =&gt; FR
    [ipCountry] =&gt; FR
    [merchantDatas] =&gt; Array
        (
            [_aKey_cart_id] =&gt; 5864
            [_aKey_customer_id] =&gt; 2785
            [_aKey_secure_key] =&gt; 0271d8ccf0cc449c781d239423660f5c
            [_aKey_token] =&gt; c792dda3ac6862ff42a69b23d46949d4
        )

    [transid] =&gt; 636E9823D17C7138
    [is3ds] =&gt; Yes
    [paymentMethod] =&gt; CB
    [customerCountry] =&gt; FR
    [returnCode] =&gt; Array
        (
        )

    [returnDescriptionShort] =&gt; Array
        (
        )

    [returnDescriptionLong] =&gt; Array
        (
        )

)

## 2022-11-11 19:45:03 ##
----> END placeOrder()
## 2022-11-11 19:45:03 ##
----> END registerOrder()
## 2022-11-11 19:45:03 ##
----> Treatment is unlocked for the id_cart = 5864
## 2022-11-11 22:32:55 ##
##########################
## 2022-11-11 22:32:55 ##
START Validation Callback
## 2022-11-11 22:32:55 ##
##########################
## 2022-11-11 22:32:55 ##
----> Treatment is locked for the id_cart = 5871
## 2022-11-11 22:32:55 ##
data for validation
## 2022-11-11 22:32:55 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>98972f3e0e96bdcf1b206e9a10b25d6f</md5content><result><operation>authorization</operation><status>ok</status><date>2022-11-11</date><time>21:32:51 UTC+0000</time><origAmount>380.59</origAmount><origCurrency>EUR</origCurrency><idForMerchant>5871</idForMerchant><emailClient>delgado.ac@hotmail.com</emailClient><idClient>21658381</idClient><cardCountry>LU</cardCountry><ipCountry>LU</ipCountry><merchantDatas>  <_aKey_cart_id>5871</_aKey_cart_id>  <_aKey_customer_id>2788</_aKey_customer_id>  <_aKey_secure_key>a2326c09be1b7ba743994375e79fa349</_aKey_secure_key>  <_aKey_token>8f45c934aa81055f463ae0b3b8b6ee95</_aKey_token></merchantDatas><transid>636EBF4BB93C0126</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>LU</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 98972f3e0e96bdcf1b206e9a10b25d6f
            [result] => Array
                (
                    [operation] => authorization
                    [status] => ok
                    [date] => 2022-11-11
                    [time] => 21:32:51 UTC+0000
                    [origAmount] => 380.59
                    [origCurrency] => EUR
                    [idForMerchant] => 5871
                    [emailClient] => delgado.ac@hotmail.com
                    [idClient] => 21658381
                    [cardCountry] => LU
                    [ipCountry] => LU
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 5871
                            [_aKey_customer_id] => 2788
                            [_aKey_secure_key] => a2326c09be1b7ba743994375e79fa349
                            [_aKey_token] => 8f45c934aa81055f463ae0b3b8b6ee95
                        )

                    [transid] => 636EBF4BB93C0126
                    [is3ds] => Yes
                    [paymentMethod] => VISA
                    [customerCountry] => LU
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 5871
    [3] => 2788
    [4] => a2326c09be1b7ba743994375e79fa349
    [5] => 380.59
)

## 2022-11-11 22:32:55 ##
----> START registerOrder()
## 2022-11-11 22:32:55 ##
accountID:13248407 / websiteId:418801
## 2022-11-11 22:32:55 ##
<result><operation>authorization</operation><status>ok</status><date>2022-11-11</date><time>21:32:51 UTC+0000</time><origAmount>380.59</origAmount><origCurrency>EUR</origCurrency><idForMerchant>5871</idForMerchant><emailClient>delgado.ac@hotmail.com</emailClient><idClient>21658381</idClient><cardCountry>LU</cardCountry><ipCountry>LU</ipCountry><merchantDatas>  <_aKey_cart_id>5871</_aKey_cart_id>  <_aKey_customer_id>2788</_aKey_customer_id>  <_aKey_secure_key>a2326c09be1b7ba743994375e79fa349</_aKey_secure_key>  <_aKey_token>8f45c934aa81055f463ae0b3b8b6ee95</_aKey_token></merchantDatas><transid>636EBF4BB93C0126</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>LU</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2022-11-11 22:32:55 ##
currency : EUR
## 2022-11-11 22:32:55 ##
accountID:13248407 / websiteId:418801
## 2022-11-11 22:32:55 ##
callback_salt : 
## 2022-11-11 22:32:55 ##
md5 : 98972f3e0e96bdcf1b206e9a10b25d6f == md5content : 98972f3e0e96bdcf1b206e9a10b25d6f
## 2022-11-11 22:32:55 ##
Status = ok
## 2022-11-11 22:32:55 ##
$currency = EUR
## 2022-11-11 22:32:55 ##
id_order_state = 42
## 2022-11-11 22:32:55 ##
----> START placeOrder()
## 2022-11-11 22:32:55 ##
Treatment status = 42
## 2022-11-11 22:32:55 ##
Validate order
## 2022-11-11 22:32:55 ##
Array
(
    [0] => 5871
    [1] => 42
    [2] => 380.59
    [3] => HiPay Professional
    [4] => {"Environment":"PRODUCTION","Payment method":"VISA","Transaction ID":"636EBF4BB93C0126"}
    [5] => Array
        (
            [transaction_id] => 636EBF4BB93C0126
        )

    [6] => 1
    [7] => a2326c09be1b7ba743994375e79fa349
)

## 2022-11-11 22:32:55 ##
ID Shop = 1
## 2022-11-11 22:32:57 ##
Order created
## 2022-11-11 22:32:57 ##
----> END placeOrder()
## 2022-11-11 22:32:57 ##
----> END registerOrder()
## 2022-11-11 22:32:57 ##
----> Treatment is unlocked for the id_cart = 5871
## 2022-11-11 22:33:01 ##
##########################
## 2022-11-11 22:33:01 ##
START Validation Callback
## 2022-11-11 22:33:01 ##
##########################
## 2022-11-11 22:33:01 ##
----> Treatment is locked for the id_cart = 5871
## 2022-11-11 22:33:01 ##
data for validation
## 2022-11-11 22:33:01 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>98f638910273d3c064dee0998c155f83</md5content><result><operation>capture</operation><status>ok</status><date>2022-11-11</date><time>21:32:58 UTC+0000</time><origAmount>380.59</origAmount><origCurrency>EUR</origCurrency><idForMerchant>5871</idForMerchant><emailClient>delgado.ac@hotmail.com</emailClient><idClient>21658381</idClient><cardCountry>LU</cardCountry><ipCountry>LU</ipCountry><merchantDatas>  <_aKey_cart_id>5871</_aKey_cart_id>  <_aKey_customer_id>2788</_aKey_customer_id>  <_aKey_secure_key>a2326c09be1b7ba743994375e79fa349</_aKey_secure_key>  <_aKey_token>8f45c934aa81055f463ae0b3b8b6ee95</_aKey_token></merchantDatas><transid>636EBF4BB93C0126</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>LU</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 98f638910273d3c064dee0998c155f83
            [result] => Array
                (
                    [operation] => capture
                    [status] => ok
                    [date] => 2022-11-11
                    [time] => 21:32:58 UTC+0000
                    [origAmount] => 380.59
                    [origCurrency] => EUR
                    [idForMerchant] => 5871
                    [emailClient] => delgado.ac@hotmail.com
                    [idClient] => 21658381
                    [cardCountry] => LU
                    [ipCountry] => LU
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 5871
                            [_aKey_customer_id] => 2788
                            [_aKey_secure_key] => a2326c09be1b7ba743994375e79fa349
                            [_aKey_token] => 8f45c934aa81055f463ae0b3b8b6ee95
                        )

                    [transid] => 636EBF4BB93C0126
                    [is3ds] => Yes
                    [paymentMethod] => VISA
                    [customerCountry] => LU
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 5871
    [3] => 2788
    [4] => a2326c09be1b7ba743994375e79fa349
    [5] => 380.59
)

## 2022-11-11 22:33:01 ##
----> START registerOrder()
## 2022-11-11 22:33:01 ##
accountID:13248407 / websiteId:418801
## 2022-11-11 22:33:01 ##
<result><operation>capture</operation><status>ok</status><date>2022-11-11</date><time>21:32:58 UTC+0000</time><origAmount>380.59</origAmount><origCurrency>EUR</origCurrency><idForMerchant>5871</idForMerchant><emailClient>delgado.ac@hotmail.com</emailClient><idClient>21658381</idClient><cardCountry>LU</cardCountry><ipCountry>LU</ipCountry><merchantDatas>  <_aKey_cart_id>5871</_aKey_cart_id>  <_aKey_customer_id>2788</_aKey_customer_id>  <_aKey_secure_key>a2326c09be1b7ba743994375e79fa349</_aKey_secure_key>  <_aKey_token>8f45c934aa81055f463ae0b3b8b6ee95</_aKey_token></merchantDatas><transid>636EBF4BB93C0126</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>LU</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2022-11-11 22:33:01 ##
currency : EUR
## 2022-11-11 22:33:01 ##
accountID:13248407 / websiteId:418801
## 2022-11-11 22:33:01 ##
callback_salt : 
## 2022-11-11 22:33:01 ##
md5 : 98f638910273d3c064dee0998c155f83 == md5content : 98f638910273d3c064dee0998c155f83
## 2022-11-11 22:33:01 ##
Status = ok
## 2022-11-11 22:33:01 ##
$currency = EUR
## 2022-11-11 22:33:01 ##
id_order_state = 2
## 2022-11-11 22:33:01 ##
----> START placeOrder()
## 2022-11-11 22:33:01 ##
Treatment an existing order
## 2022-11-11 22:33:01 ##
If current status order = HIPAY_OS_WAITING Then change status with this id_status = 2
## 2022-11-11 22:33:01 ##
Array
(
    [operation] => capture
    [status] => ok
    [date] => 2022-11-11
    [time] => 21:32:58 UTC+0000
    [origAmount] => 380.59
    [origCurrency] => EUR
    [idForMerchant] => 5871
    [emailClient] => delgado.ac@hotmail.com
    [idClient] => 21658381
    [cardCountry] => LU
    [ipCountry] => LU
    [merchantDatas] => Array
        (
            [_aKey_cart_id] => 5871
            [_aKey_customer_id] => 2788
            [_aKey_secure_key] => a2326c09be1b7ba743994375e79fa349
            [_aKey_token] => 8f45c934aa81055f463ae0b3b8b6ee95
        )

    [transid] => 636EBF4BB93C0126
    [is3ds] => Yes
    [paymentMethod] => VISA
    [customerCountry] => LU
    [returnCode] => Array
        (
        )

    [returnDescriptionShort] => Array
        (
        )

    [returnDescriptionLong] => Array
        (
        )

)

## 2022-11-11 22:33:01 ##
----> END placeOrder()
## 2022-11-11 22:33:01 ##
----> END registerOrder()
## 2022-11-11 22:33:01 ##
----> Treatment is unlocked for the id_cart = 5871
