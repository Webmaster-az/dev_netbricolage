## 2024-08-05 14:26:06 ##
##########################
## 2024-08-05 14:26:06 ##
START Validation Callback
## 2024-08-05 14:26:06 ##
##########################
## 2024-08-05 14:26:06 ##
----> Treatment is locked for the id_cart = 15432
## 2024-08-05 14:26:06 ##
data for validation
## 2024-08-05 14:26:06 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>232d6d68e9ae27e4705b349e50432640</md5content><result><operation>authorization</operation><status>nok</status><date>2024-08-05</date><time>12:26:06 UTC+0000</time><origAmount>413.70</origAmount><origCurrency>EUR</origCurrency><idForMerchant>15432</idForMerchant><emailClient>maxime.cheminand@lamarmitedumeunier.fr</emailClient><idClient>23847819</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>15432</_aKey_cart_id>  <_aKey_customer_id>4424</_aKey_customer_id>  <_aKey_secure_key>81523e433603aa8d2f60ad6240d11263</_aKey_secure_key>  <_aKey_token>2ddcaa0dd5cd2e7436ccfa98c336a90f</_aKey_token></merchantDatas><transid>66B0C4A90228C229</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 232d6d68e9ae27e4705b349e50432640
            [result] => Array
                (
                    [operation] => authorization
                    [status] => nok
                    [date] => 2024-08-05
                    [time] => 12:26:06 UTC+0000
                    [origAmount] => 413.70
                    [origCurrency] => EUR
                    [idForMerchant] => 15432
                    [emailClient] => maxime.cheminand@lamarmitedumeunier.fr
                    [idClient] => 23847819
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 15432
                            [_aKey_customer_id] => 4424
                            [_aKey_secure_key] => 81523e433603aa8d2f60ad6240d11263
                            [_aKey_token] => 2ddcaa0dd5cd2e7436ccfa98c336a90f
                        )

                    [transid] => 66B0C4A90228C229
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 15432
    [3] => 4424
    [4] => 81523e433603aa8d2f60ad6240d11263
    [5] => 413.7
)

## 2024-08-05 14:26:06 ##
----> START registerOrder()
## 2024-08-05 14:26:06 ##
accountID:13248407 / websiteId:417972
## 2024-08-05 14:26:06 ##
<result><operation>authorization</operation><status>nok</status><date>2024-08-05</date><time>12:26:06 UTC+0000</time><origAmount>413.70</origAmount><origCurrency>EUR</origCurrency><idForMerchant>15432</idForMerchant><emailClient>maxime.cheminand@lamarmitedumeunier.fr</emailClient><idClient>23847819</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>15432</_aKey_cart_id>  <_aKey_customer_id>4424</_aKey_customer_id>  <_aKey_secure_key>81523e433603aa8d2f60ad6240d11263</_aKey_secure_key>  <_aKey_token>2ddcaa0dd5cd2e7436ccfa98c336a90f</_aKey_token></merchantDatas><transid>66B0C4A90228C229</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2024-08-05 14:26:06 ##
currency : EUR
## 2024-08-05 14:26:06 ##
accountID:13248407 / websiteId:417972
## 2024-08-05 14:26:06 ##
callback_salt : 
## 2024-08-05 14:26:06 ##
md5 : 232d6d68e9ae27e4705b349e50432640 == md5content : 232d6d68e9ae27e4705b349e50432640
## 2024-08-05 14:26:06 ##
Status = nok
## 2024-08-05 14:26:06 ##
$currency = EUR
## 2024-08-05 14:26:06 ##
id_order_state = 8
## 2024-08-05 14:26:06 ##
----> START placeOrder()
## 2024-08-05 14:26:06 ##
Treatment status = ERROR
## 2024-08-05 14:26:06 ##
Array
(
    [operation] =&gt; authorization
    [status] =&gt; nok
    [date] =&gt; 2024-08-05
    [time] =&gt; 12:26:06 UTC+0000
    [origAmount] =&gt; 413.70
    [origCurrency] =&gt; EUR
    [idForMerchant] =&gt; 15432
    [emailClient] =&gt; maxime.cheminand@lamarmitedumeunier.fr
    [idClient] =&gt; 23847819
    [cardCountry] =&gt; FR
    [ipCountry] =&gt; FR
    [merchantDatas] =&gt; Array
        (
            [_aKey_cart_id] =&gt; 15432
            [_aKey_customer_id] =&gt; 4424
            [_aKey_secure_key] =&gt; 81523e433603aa8d2f60ad6240d11263
            [_aKey_token] =&gt; 2ddcaa0dd5cd2e7436ccfa98c336a90f
        )

    [transid] =&gt; 66B0C4A90228C229
    [is3ds] =&gt; Yes
    [paymentMethod] =&gt; CB
    [customerCountry] =&gt; FR
    [returnCode] =&gt; Array
        (
        )

    [returnDescriptionShort] =&gt; Array
        (
        )

    [returnDescriptionLong] =&gt; Array
        (
        )

)

## 2024-08-05 14:26:06 ##
----> END placeOrder()
## 2024-08-05 14:26:06 ##
----> END registerOrder()
## 2024-08-05 14:26:06 ##
----> Treatment is unlocked for the id_cart = 15432
## 2024-08-05 14:26:11 ##
##########################
## 2024-08-05 14:26:11 ##
START Validation Callback
## 2024-08-05 14:26:11 ##
##########################
## 2024-08-05 14:26:11 ##
----> Treatment is locked for the id_cart = 15432
## 2024-08-05 14:26:11 ##
data for validation
## 2024-08-05 14:26:11 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>15ec321a999834f65b5c52dc332111e4</md5content><result><operation>capture</operation><status>nok</status><date>2024-08-05</date><time>12:26:11 UTC+0000</time><origAmount>413.70</origAmount><origCurrency>EUR</origCurrency><idForMerchant>15432</idForMerchant><emailClient>maxime.cheminand@lamarmitedumeunier.fr</emailClient><idClient>23847819</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>15432</_aKey_cart_id>  <_aKey_customer_id>4424</_aKey_customer_id>  <_aKey_secure_key>81523e433603aa8d2f60ad6240d11263</_aKey_secure_key>  <_aKey_token>2ddcaa0dd5cd2e7436ccfa98c336a90f</_aKey_token></merchantDatas><transid>66B0C4A90228C229</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 15ec321a999834f65b5c52dc332111e4
            [result] => Array
                (
                    [operation] => capture
                    [status] => nok
                    [date] => 2024-08-05
                    [time] => 12:26:11 UTC+0000
                    [origAmount] => 413.70
                    [origCurrency] => EUR
                    [idForMerchant] => 15432
                    [emailClient] => maxime.cheminand@lamarmitedumeunier.fr
                    [idClient] => 23847819
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 15432
                            [_aKey_customer_id] => 4424
                            [_aKey_secure_key] => 81523e433603aa8d2f60ad6240d11263
                            [_aKey_token] => 2ddcaa0dd5cd2e7436ccfa98c336a90f
                        )

                    [transid] => 66B0C4A90228C229
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 15432
    [3] => 4424
    [4] => 81523e433603aa8d2f60ad6240d11263
    [5] => 413.7
)

## 2024-08-05 14:26:11 ##
----> START registerOrder()
## 2024-08-05 14:26:11 ##
accountID:13248407 / websiteId:417972
## 2024-08-05 14:26:11 ##
<result><operation>capture</operation><status>nok</status><date>2024-08-05</date><time>12:26:11 UTC+0000</time><origAmount>413.70</origAmount><origCurrency>EUR</origCurrency><idForMerchant>15432</idForMerchant><emailClient>maxime.cheminand@lamarmitedumeunier.fr</emailClient><idClient>23847819</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>15432</_aKey_cart_id>  <_aKey_customer_id>4424</_aKey_customer_id>  <_aKey_secure_key>81523e433603aa8d2f60ad6240d11263</_aKey_secure_key>  <_aKey_token>2ddcaa0dd5cd2e7436ccfa98c336a90f</_aKey_token></merchantDatas><transid>66B0C4A90228C229</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2024-08-05 14:26:11 ##
currency : EUR
## 2024-08-05 14:26:11 ##
accountID:13248407 / websiteId:417972
## 2024-08-05 14:26:11 ##
callback_salt : 
## 2024-08-05 14:26:11 ##
md5 : 15ec321a999834f65b5c52dc332111e4 == md5content : 15ec321a999834f65b5c52dc332111e4
## 2024-08-05 14:26:11 ##
Status = nok
## 2024-08-05 14:26:11 ##
$currency = EUR
## 2024-08-05 14:26:11 ##
id_order_state = 8
## 2024-08-05 14:26:11 ##
----> START placeOrder()
## 2024-08-05 14:26:11 ##
Treatment status = ERROR
## 2024-08-05 14:26:11 ##
Array
(
    [operation] =&gt; capture
    [status] =&gt; nok
    [date] =&gt; 2024-08-05
    [time] =&gt; 12:26:11 UTC+0000
    [origAmount] =&gt; 413.70
    [origCurrency] =&gt; EUR
    [idForMerchant] =&gt; 15432
    [emailClient] =&gt; maxime.cheminand@lamarmitedumeunier.fr
    [idClient] =&gt; 23847819
    [cardCountry] =&gt; FR
    [ipCountry] =&gt; FR
    [merchantDatas] =&gt; Array
        (
            [_aKey_cart_id] =&gt; 15432
            [_aKey_customer_id] =&gt; 4424
            [_aKey_secure_key] =&gt; 81523e433603aa8d2f60ad6240d11263
            [_aKey_token] =&gt; 2ddcaa0dd5cd2e7436ccfa98c336a90f
        )

    [transid] =&gt; 66B0C4A90228C229
    [is3ds] =&gt; Yes
    [paymentMethod] =&gt; CB
    [customerCountry] =&gt; FR
    [returnCode] =&gt; Array
        (
        )

    [returnDescriptionShort] =&gt; Array
        (
        )

    [returnDescriptionLong] =&gt; Array
        (
        )

)

## 2024-08-05 14:26:11 ##
----> END placeOrder()
## 2024-08-05 14:26:11 ##
----> END registerOrder()
## 2024-08-05 14:26:11 ##
----> Treatment is unlocked for the id_cart = 15432
## 2024-08-05 14:28:30 ##
##########################
## 2024-08-05 14:28:30 ##
START Validation Callback
## 2024-08-05 14:28:30 ##
##########################
## 2024-08-05 14:28:30 ##
----> Treatment is locked for the id_cart = 15432
## 2024-08-05 14:28:30 ##
data for validation
## 2024-08-05 14:28:30 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>1eed33d96840a25745d9406c8dbfa9d2</md5content><result><operation>authorization</operation><status>ok</status><date>2024-08-05</date><time>12:28:29 UTC+0000</time><origAmount>413.70</origAmount><origCurrency>EUR</origCurrency><idForMerchant>15432</idForMerchant><emailClient>maxime.cheminand@lamarmitedumeunier.fr</emailClient><idClient>23847819</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>15432</_aKey_cart_id>  <_aKey_customer_id>4424</_aKey_customer_id>  <_aKey_secure_key>81523e433603aa8d2f60ad6240d11263</_aKey_secure_key>  <_aKey_token>2ddcaa0dd5cd2e7436ccfa98c336a90f</_aKey_token></merchantDatas><transid>66B0C52C46A49162</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 1eed33d96840a25745d9406c8dbfa9d2
            [result] => Array
                (
                    [operation] => authorization
                    [status] => ok
                    [date] => 2024-08-05
                    [time] => 12:28:29 UTC+0000
                    [origAmount] => 413.70
                    [origCurrency] => EUR
                    [idForMerchant] => 15432
                    [emailClient] => maxime.cheminand@lamarmitedumeunier.fr
                    [idClient] => 23847819
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 15432
                            [_aKey_customer_id] => 4424
                            [_aKey_secure_key] => 81523e433603aa8d2f60ad6240d11263
                            [_aKey_token] => 2ddcaa0dd5cd2e7436ccfa98c336a90f
                        )

                    [transid] => 66B0C52C46A49162
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 15432
    [3] => 4424
    [4] => 81523e433603aa8d2f60ad6240d11263
    [5] => 413.7
)

## 2024-08-05 14:28:30 ##
----> START registerOrder()
## 2024-08-05 14:28:30 ##
accountID:13248407 / websiteId:417972
## 2024-08-05 14:28:30 ##
<result><operation>authorization</operation><status>ok</status><date>2024-08-05</date><time>12:28:29 UTC+0000</time><origAmount>413.70</origAmount><origCurrency>EUR</origCurrency><idForMerchant>15432</idForMerchant><emailClient>maxime.cheminand@lamarmitedumeunier.fr</emailClient><idClient>23847819</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>15432</_aKey_cart_id>  <_aKey_customer_id>4424</_aKey_customer_id>  <_aKey_secure_key>81523e433603aa8d2f60ad6240d11263</_aKey_secure_key>  <_aKey_token>2ddcaa0dd5cd2e7436ccfa98c336a90f</_aKey_token></merchantDatas><transid>66B0C52C46A49162</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2024-08-05 14:28:30 ##
currency : EUR
## 2024-08-05 14:28:30 ##
accountID:13248407 / websiteId:417972
## 2024-08-05 14:28:30 ##
callback_salt : 
## 2024-08-05 14:28:30 ##
md5 : 1eed33d96840a25745d9406c8dbfa9d2 == md5content : 1eed33d96840a25745d9406c8dbfa9d2
## 2024-08-05 14:28:30 ##
Status = ok
## 2024-08-05 14:28:30 ##
$currency = EUR
## 2024-08-05 14:28:30 ##
id_order_state = 42
## 2024-08-05 14:28:30 ##
----> START placeOrder()
## 2024-08-05 14:28:30 ##
Treatment status = 42
## 2024-08-05 14:28:30 ##
Validate order
## 2024-08-05 14:28:30 ##
Array
(
    [0] => 15432
    [1] => 42
    [2] => 413.7
    [3] => HiPay Professional
    [4] => {"Environment":"PRODUCTION","Payment method":"CB","Transaction ID":"66B0C52C46A49162"}
    [5] => Array
        (
            [transaction_id] => 66B0C52C46A49162
        )

    [6] => 1
    [7] => 81523e433603aa8d2f60ad6240d11263
)

## 2024-08-05 14:28:30 ##
ID Shop = 1
## 2024-08-05 14:28:32 ##
Order created
## 2024-08-05 14:28:32 ##
----> END placeOrder()
## 2024-08-05 14:28:32 ##
----> END registerOrder()
## 2024-08-05 14:28:32 ##
----> Treatment is unlocked for the id_cart = 15432
## 2024-08-05 14:28:36 ##
##########################
## 2024-08-05 14:28:36 ##
START Validation Callback
## 2024-08-05 14:28:36 ##
##########################
## 2024-08-05 14:28:36 ##
----> Treatment is locked for the id_cart = 15432
## 2024-08-05 14:28:36 ##
data for validation
## 2024-08-05 14:28:36 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>6b0f957e1ef59a8d35f7eae1d6d90a3b</md5content><result><operation>capture</operation><status>ok</status><date>2024-08-05</date><time>12:28:36 UTC+0000</time><origAmount>413.70</origAmount><origCurrency>EUR</origCurrency><idForMerchant>15432</idForMerchant><emailClient>maxime.cheminand@lamarmitedumeunier.fr</emailClient><idClient>23847819</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>15432</_aKey_cart_id>  <_aKey_customer_id>4424</_aKey_customer_id>  <_aKey_secure_key>81523e433603aa8d2f60ad6240d11263</_aKey_secure_key>  <_aKey_token>2ddcaa0dd5cd2e7436ccfa98c336a90f</_aKey_token></merchantDatas><transid>66B0C52C46A49162</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 6b0f957e1ef59a8d35f7eae1d6d90a3b
            [result] => Array
                (
                    [operation] => capture
                    [status] => ok
                    [date] => 2024-08-05
                    [time] => 12:28:36 UTC+0000
                    [origAmount] => 413.70
                    [origCurrency] => EUR
                    [idForMerchant] => 15432
                    [emailClient] => maxime.cheminand@lamarmitedumeunier.fr
                    [idClient] => 23847819
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 15432
                            [_aKey_customer_id] => 4424
                            [_aKey_secure_key] => 81523e433603aa8d2f60ad6240d11263
                            [_aKey_token] => 2ddcaa0dd5cd2e7436ccfa98c336a90f
                        )

                    [transid] => 66B0C52C46A49162
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 15432
    [3] => 4424
    [4] => 81523e433603aa8d2f60ad6240d11263
    [5] => 413.7
)

## 2024-08-05 14:28:36 ##
----> START registerOrder()
## 2024-08-05 14:28:36 ##
accountID:13248407 / websiteId:417972
## 2024-08-05 14:28:36 ##
<result><operation>capture</operation><status>ok</status><date>2024-08-05</date><time>12:28:36 UTC+0000</time><origAmount>413.70</origAmount><origCurrency>EUR</origCurrency><idForMerchant>15432</idForMerchant><emailClient>maxime.cheminand@lamarmitedumeunier.fr</emailClient><idClient>23847819</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>15432</_aKey_cart_id>  <_aKey_customer_id>4424</_aKey_customer_id>  <_aKey_secure_key>81523e433603aa8d2f60ad6240d11263</_aKey_secure_key>  <_aKey_token>2ddcaa0dd5cd2e7436ccfa98c336a90f</_aKey_token></merchantDatas><transid>66B0C52C46A49162</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2024-08-05 14:28:36 ##
currency : EUR
## 2024-08-05 14:28:36 ##
accountID:13248407 / websiteId:417972
## 2024-08-05 14:28:36 ##
callback_salt : 
## 2024-08-05 14:28:36 ##
md5 : 6b0f957e1ef59a8d35f7eae1d6d90a3b == md5content : 6b0f957e1ef59a8d35f7eae1d6d90a3b
## 2024-08-05 14:28:36 ##
Status = ok
## 2024-08-05 14:28:36 ##
$currency = EUR
## 2024-08-05 14:28:36 ##
id_order_state = 2
## 2024-08-05 14:28:36 ##
----> START placeOrder()
## 2024-08-05 14:28:36 ##
Treatment an existing order
## 2024-08-05 14:28:36 ##
If current status order = HIPAY_OS_WAITING Then change status with this id_status = 2
## 2024-08-05 14:28:36 ##
Array
(
    [operation] => capture
    [status] => ok
    [date] => 2024-08-05
    [time] => 12:28:36 UTC+0000
    [origAmount] => 413.70
    [origCurrency] => EUR
    [idForMerchant] => 15432
    [emailClient] => maxime.cheminand@lamarmitedumeunier.fr
    [idClient] => 23847819
    [cardCountry] => FR
    [ipCountry] => FR
    [merchantDatas] => Array
        (
            [_aKey_cart_id] => 15432
            [_aKey_customer_id] => 4424
            [_aKey_secure_key] => 81523e433603aa8d2f60ad6240d11263
            [_aKey_token] => 2ddcaa0dd5cd2e7436ccfa98c336a90f
        )

    [transid] => 66B0C52C46A49162
    [is3ds] => Yes
    [paymentMethod] => CB
    [customerCountry] => FR
    [returnCode] => Array
        (
        )

    [returnDescriptionShort] => Array
        (
        )

    [returnDescriptionLong] => Array
        (
        )

)

## 2024-08-05 14:28:37 ##
----> END placeOrder()
## 2024-08-05 14:28:37 ##
----> END registerOrder()
## 2024-08-05 14:28:37 ##
----> Treatment is unlocked for the id_cart = 15432
## 2024-08-05 14:44:11 ##
##########################
## 2024-08-05 14:44:11 ##
START Validation Callback
## 2024-08-05 14:44:11 ##
##########################
## 2024-08-05 14:44:11 ##
----> Treatment is locked for the id_cart = 15412
## 2024-08-05 14:44:11 ##
data for validation
## 2024-08-05 14:44:11 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>80c638adca36e89e965cbcf0c279293a</md5content><result><operation>authorization</operation><status>ok</status><date>2024-08-05</date><time>12:44:12 UTC+0000</time><origAmount>150.28</origAmount><origCurrency>EUR</origCurrency><idForMerchant>15412</idForMerchant><emailClient>oreil2000@gmx.fr</emailClient><idClient>23847870</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>15412</_aKey_cart_id>  <_aKey_customer_id>4425</_aKey_customer_id>  <_aKey_secure_key>d59db0db620cd0b12d4e4b43454de537</_aKey_secure_key>  <_aKey_token>e513281ae9c2b14c8c8d7140a06845b0</_aKey_token></merchantDatas><transid>66B0C8550C52C162</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 80c638adca36e89e965cbcf0c279293a
            [result] => Array
                (
                    [operation] => authorization
                    [status] => ok
                    [date] => 2024-08-05
                    [time] => 12:44:12 UTC+0000
                    [origAmount] => 150.28
                    [origCurrency] => EUR
                    [idForMerchant] => 15412
                    [emailClient] => oreil2000@gmx.fr
                    [idClient] => 23847870
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 15412
                            [_aKey_customer_id] => 4425
                            [_aKey_secure_key] => d59db0db620cd0b12d4e4b43454de537
                            [_aKey_token] => e513281ae9c2b14c8c8d7140a06845b0
                        )

                    [transid] => 66B0C8550C52C162
                    [is3ds] => Yes
                    [paymentMethod] => VISA
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 15412
    [3] => 4425
    [4] => d59db0db620cd0b12d4e4b43454de537
    [5] => 150.28
)

## 2024-08-05 14:44:11 ##
----> START registerOrder()
## 2024-08-05 14:44:11 ##
accountID:13248407 / websiteId:417972
## 2024-08-05 14:44:11 ##
<result><operation>authorization</operation><status>ok</status><date>2024-08-05</date><time>12:44:12 UTC+0000</time><origAmount>150.28</origAmount><origCurrency>EUR</origCurrency><idForMerchant>15412</idForMerchant><emailClient>oreil2000@gmx.fr</emailClient><idClient>23847870</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>15412</_aKey_cart_id>  <_aKey_customer_id>4425</_aKey_customer_id>  <_aKey_secure_key>d59db0db620cd0b12d4e4b43454de537</_aKey_secure_key>  <_aKey_token>e513281ae9c2b14c8c8d7140a06845b0</_aKey_token></merchantDatas><transid>66B0C8550C52C162</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2024-08-05 14:44:11 ##
currency : EUR
## 2024-08-05 14:44:11 ##
accountID:13248407 / websiteId:417972
## 2024-08-05 14:44:11 ##
callback_salt : 
## 2024-08-05 14:44:11 ##
md5 : 80c638adca36e89e965cbcf0c279293a == md5content : 80c638adca36e89e965cbcf0c279293a
## 2024-08-05 14:44:11 ##
Status = ok
## 2024-08-05 14:44:11 ##
$currency = EUR
## 2024-08-05 14:44:11 ##
id_order_state = 42
## 2024-08-05 14:44:11 ##
----> START placeOrder()
## 2024-08-05 14:44:11 ##
Treatment status = 42
## 2024-08-05 14:44:11 ##
Validate order
## 2024-08-05 14:44:11 ##
Array
(
    [0] => 15412
    [1] => 42
    [2] => 150.28
    [3] => HiPay Professional
    [4] => {"Environment":"PRODUCTION","Payment method":"VISA","Transaction ID":"66B0C8550C52C162"}
    [5] => Array
        (
            [transaction_id] => 66B0C8550C52C162
        )

    [6] => 1
    [7] => d59db0db620cd0b12d4e4b43454de537
)

## 2024-08-05 14:44:11 ##
ID Shop = 1
## 2024-08-05 14:44:13 ##
Order created
## 2024-08-05 14:44:13 ##
----> END placeOrder()
## 2024-08-05 14:44:13 ##
----> END registerOrder()
## 2024-08-05 14:44:13 ##
----> Treatment is unlocked for the id_cart = 15412
## 2024-08-05 14:44:21 ##
##########################
## 2024-08-05 14:44:21 ##
START Validation Callback
## 2024-08-05 14:44:21 ##
##########################
## 2024-08-05 14:44:21 ##
----> Treatment is locked for the id_cart = 15412
## 2024-08-05 14:44:21 ##
data for validation
## 2024-08-05 14:44:21 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>f8867d1b0c2d6acfe0badfa5658dc8af</md5content><result><operation>capture</operation><status>ok</status><date>2024-08-05</date><time>12:44:19 UTC+0000</time><origAmount>150.28</origAmount><origCurrency>EUR</origCurrency><idForMerchant>15412</idForMerchant><emailClient>oreil2000@gmx.fr</emailClient><idClient>23847870</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>15412</_aKey_cart_id>  <_aKey_customer_id>4425</_aKey_customer_id>  <_aKey_secure_key>d59db0db620cd0b12d4e4b43454de537</_aKey_secure_key>  <_aKey_token>e513281ae9c2b14c8c8d7140a06845b0</_aKey_token></merchantDatas><transid>66B0C8550C52C162</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => f8867d1b0c2d6acfe0badfa5658dc8af
            [result] => Array
                (
                    [operation] => capture
                    [status] => ok
                    [date] => 2024-08-05
                    [time] => 12:44:19 UTC+0000
                    [origAmount] => 150.28
                    [origCurrency] => EUR
                    [idForMerchant] => 15412
                    [emailClient] => oreil2000@gmx.fr
                    [idClient] => 23847870
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 15412
                            [_aKey_customer_id] => 4425
                            [_aKey_secure_key] => d59db0db620cd0b12d4e4b43454de537
                            [_aKey_token] => e513281ae9c2b14c8c8d7140a06845b0
                        )

                    [transid] => 66B0C8550C52C162
                    [is3ds] => Yes
                    [paymentMethod] => VISA
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 15412
    [3] => 4425
    [4] => d59db0db620cd0b12d4e4b43454de537
    [5] => 150.28
)

## 2024-08-05 14:44:21 ##
----> START registerOrder()
## 2024-08-05 14:44:21 ##
accountID:13248407 / websiteId:417972
## 2024-08-05 14:44:21 ##
<result><operation>capture</operation><status>ok</status><date>2024-08-05</date><time>12:44:19 UTC+0000</time><origAmount>150.28</origAmount><origCurrency>EUR</origCurrency><idForMerchant>15412</idForMerchant><emailClient>oreil2000@gmx.fr</emailClient><idClient>23847870</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>15412</_aKey_cart_id>  <_aKey_customer_id>4425</_aKey_customer_id>  <_aKey_secure_key>d59db0db620cd0b12d4e4b43454de537</_aKey_secure_key>  <_aKey_token>e513281ae9c2b14c8c8d7140a06845b0</_aKey_token></merchantDatas><transid>66B0C8550C52C162</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2024-08-05 14:44:21 ##
currency : EUR
## 2024-08-05 14:44:21 ##
accountID:13248407 / websiteId:417972
## 2024-08-05 14:44:21 ##
callback_salt : 
## 2024-08-05 14:44:21 ##
md5 : f8867d1b0c2d6acfe0badfa5658dc8af == md5content : f8867d1b0c2d6acfe0badfa5658dc8af
## 2024-08-05 14:44:21 ##
Status = ok
## 2024-08-05 14:44:21 ##
$currency = EUR
## 2024-08-05 14:44:21 ##
id_order_state = 2
## 2024-08-05 14:44:21 ##
----> START placeOrder()
## 2024-08-05 14:44:21 ##
Treatment an existing order
## 2024-08-05 14:44:21 ##
If current status order = HIPAY_OS_WAITING Then change status with this id_status = 2
## 2024-08-05 14:44:21 ##
Array
(
    [operation] => capture
    [status] => ok
    [date] => 2024-08-05
    [time] => 12:44:19 UTC+0000
    [origAmount] => 150.28
    [origCurrency] => EUR
    [idForMerchant] => 15412
    [emailClient] => oreil2000@gmx.fr
    [idClient] => 23847870
    [cardCountry] => FR
    [ipCountry] => FR
    [merchantDatas] => Array
        (
            [_aKey_cart_id] => 15412
            [_aKey_customer_id] => 4425
            [_aKey_secure_key] => d59db0db620cd0b12d4e4b43454de537
            [_aKey_token] => e513281ae9c2b14c8c8d7140a06845b0
        )

    [transid] => 66B0C8550C52C162
    [is3ds] => Yes
    [paymentMethod] => VISA
    [customerCountry] => FR
    [returnCode] => Array
        (
        )

    [returnDescriptionShort] => Array
        (
        )

    [returnDescriptionLong] => Array
        (
        )

)

## 2024-08-05 14:44:22 ##
----> END placeOrder()
## 2024-08-05 14:44:22 ##
----> END registerOrder()
## 2024-08-05 14:44:22 ##
----> Treatment is unlocked for the id_cart = 15412
