## 2022-07-20 09:29:40 ##
##########################
## 2022-07-20 09:29:40 ##
START Validation Callback
## 2022-07-20 09:29:40 ##
##########################
## 2022-07-20 09:29:40 ##
----> Treatment is locked for the id_cart = 3182
## 2022-07-20 09:29:40 ##
data for validation
## 2022-07-20 09:29:40 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>5834341ee2b6acbd0fda30aab7b4905c</md5content><result><operation>refund</operation><status>ok</status><date>2022-07-20</date><time>07:29:37 UTC+0000</time><origAmount>327.67</origAmount><origCurrency>EUR</origCurrency><idForMerchant>3182</idForMerchant><emailClient>noel.rimboud@sfr.fr</emailClient><idClient>21074177</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>3182</_aKey_cart_id>  <_aKey_customer_id>2135</_aKey_customer_id>  <_aKey_secure_key>adaa6aa8406c24b989245c72a6a737eb</_aKey_secure_key>  <_aKey_token>0a3741ff8b3b842afdf92efddcea71d6</_aKey_token></merchantDatas><transid>62A58B8020381297</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><refundedAmount>180.00</refundedAmount><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 5834341ee2b6acbd0fda30aab7b4905c
            [result] => Array
                (
                    [operation] => refund
                    [status] => ok
                    [date] => 2022-07-20
                    [time] => 07:29:37 UTC+0000
                    [origAmount] => 327.67
                    [origCurrency] => EUR
                    [idForMerchant] => 3182
                    [emailClient] => noel.rimboud@sfr.fr
                    [idClient] => 21074177
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 3182
                            [_aKey_customer_id] => 2135
                            [_aKey_secure_key] => adaa6aa8406c24b989245c72a6a737eb
                            [_aKey_token] => 0a3741ff8b3b842afdf92efddcea71d6
                        )

                    [transid] => 62A58B8020381297
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [refundedAmount] => 180.00
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 3182
    [3] => 2135
    [4] => adaa6aa8406c24b989245c72a6a737eb
    [5] => 327.67
)

## 2022-07-20 09:29:40 ##
----> START registerOrder()
## 2022-07-20 09:29:40 ##
accountID:13248407 / websiteId:418801
## 2022-07-20 09:29:40 ##
<result><operation>refund</operation><status>ok</status><date>2022-07-20</date><time>07:29:37 UTC+0000</time><origAmount>327.67</origAmount><origCurrency>EUR</origCurrency><idForMerchant>3182</idForMerchant><emailClient>noel.rimboud@sfr.fr</emailClient><idClient>21074177</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>3182</_aKey_cart_id>  <_aKey_customer_id>2135</_aKey_customer_id>  <_aKey_secure_key>adaa6aa8406c24b989245c72a6a737eb</_aKey_secure_key>  <_aKey_token>0a3741ff8b3b842afdf92efddcea71d6</_aKey_token></merchantDatas><transid>62A58B8020381297</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><refundedAmount>180.00</refundedAmount><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2022-07-20 09:29:40 ##
currency : EUR
## 2022-07-20 09:29:40 ##
accountID:13248407 / websiteId:418801
## 2022-07-20 09:29:40 ##
callback_salt : 
## 2022-07-20 09:29:40 ##
md5 : 5834341ee2b6acbd0fda30aab7b4905c == md5content : 5834341ee2b6acbd0fda30aab7b4905c
## 2022-07-20 09:29:40 ##
Status = ok
## 2022-07-20 09:29:40 ##
$currency = EUR
## 2022-07-20 09:29:40 ##
id_order_state = 2
## 2022-07-20 09:29:40 ##
----> START placeOrder()
## 2022-07-20 09:29:40 ##
Treatment an existing order
## 2022-07-20 09:29:40 ##
getCurrentState 43 != HIPAY_OS_WAITING 42
## 2022-07-20 09:29:40 ##
----> END placeOrder()
## 2022-07-20 09:29:40 ##
----> END registerOrder()
## 2022-07-20 09:29:40 ##
----> Treatment is unlocked for the id_cart = 3182
## 2022-07-20 18:52:16 ##
##########################
## 2022-07-20 18:52:16 ##
START Validation Callback
## 2022-07-20 18:52:16 ##
##########################
## 2022-07-20 18:52:16 ##
----> Treatment is locked for the id_cart = 3713
## 2022-07-20 18:52:16 ##
data for validation
## 2022-07-20 18:52:16 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>0e9bd1c3569422e2fe1159a5fa86b469</md5content><result><operation>authorization</operation><status>ok</status><date>2022-07-20</date><time>16:52:14 UTC+0000</time><origAmount>46.84</origAmount><origCurrency>EUR</origCurrency><idForMerchant>3713</idForMerchant><emailClient>aymericmathias@gmail.com</emailClient><idClient>21255185</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>3713</_aKey_cart_id>  <_aKey_customer_id>2272</_aKey_customer_id>  <_aKey_secure_key>dd9cfcef89ee44a973658004a9bf745f</_aKey_secure_key>  <_aKey_token>fdf5261d26cb907ff7558c342a91d243</_aKey_token></merchantDatas><transid>62D83284376CB645</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 0e9bd1c3569422e2fe1159a5fa86b469
            [result] => Array
                (
                    [operation] => authorization
                    [status] => ok
                    [date] => 2022-07-20
                    [time] => 16:52:14 UTC+0000
                    [origAmount] => 46.84
                    [origCurrency] => EUR
                    [idForMerchant] => 3713
                    [emailClient] => aymericmathias@gmail.com
                    [idClient] => 21255185
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 3713
                            [_aKey_customer_id] => 2272
                            [_aKey_secure_key] => dd9cfcef89ee44a973658004a9bf745f
                            [_aKey_token] => fdf5261d26cb907ff7558c342a91d243
                        )

                    [transid] => 62D83284376CB645
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 3713
    [3] => 2272
    [4] => dd9cfcef89ee44a973658004a9bf745f
    [5] => 46.84
)

## 2022-07-20 18:52:16 ##
----> START registerOrder()
## 2022-07-20 18:52:16 ##
accountID:13248407 / websiteId:418801
## 2022-07-20 18:52:16 ##
<result><operation>authorization</operation><status>ok</status><date>2022-07-20</date><time>16:52:14 UTC+0000</time><origAmount>46.84</origAmount><origCurrency>EUR</origCurrency><idForMerchant>3713</idForMerchant><emailClient>aymericmathias@gmail.com</emailClient><idClient>21255185</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>3713</_aKey_cart_id>  <_aKey_customer_id>2272</_aKey_customer_id>  <_aKey_secure_key>dd9cfcef89ee44a973658004a9bf745f</_aKey_secure_key>  <_aKey_token>fdf5261d26cb907ff7558c342a91d243</_aKey_token></merchantDatas><transid>62D83284376CB645</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2022-07-20 18:52:16 ##
currency : EUR
## 2022-07-20 18:52:16 ##
accountID:13248407 / websiteId:418801
## 2022-07-20 18:52:16 ##
callback_salt : 
## 2022-07-20 18:52:16 ##
md5 : 0e9bd1c3569422e2fe1159a5fa86b469 == md5content : 0e9bd1c3569422e2fe1159a5fa86b469
## 2022-07-20 18:52:16 ##
Status = ok
## 2022-07-20 18:52:16 ##
$currency = EUR
## 2022-07-20 18:52:16 ##
id_order_state = 42
## 2022-07-20 18:52:16 ##
----> START placeOrder()
## 2022-07-20 18:52:16 ##
Treatment status = 42
## 2022-07-20 18:52:16 ##
Validate order
## 2022-07-20 18:52:16 ##
Array
(
    [0] => 3713
    [1] => 42
    [2] => 46.84
    [3] => HiPay Professional
    [4] => {"Environment":"PRODUCTION","Payment method":"CB","Transaction ID":"62D83284376CB645"}
    [5] => Array
        (
            [transaction_id] => 62D83284376CB645
        )

    [6] => 1
    [7] => dd9cfcef89ee44a973658004a9bf745f
)

## 2022-07-20 18:52:16 ##
ID Shop = 1
## 2022-07-20 18:52:18 ##
Order created
## 2022-07-20 18:52:18 ##
----> END placeOrder()
## 2022-07-20 18:52:18 ##
----> END registerOrder()
## 2022-07-20 18:52:18 ##
----> Treatment is unlocked for the id_cart = 3713
## 2022-07-20 18:52:24 ##
##########################
## 2022-07-20 18:52:24 ##
START Validation Callback
## 2022-07-20 18:52:24 ##
##########################
## 2022-07-20 18:52:24 ##
----> Treatment is locked for the id_cart = 3713
## 2022-07-20 18:52:24 ##
data for validation
## 2022-07-20 18:52:24 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>ac6cef22c8b35616e1b422546e4fb996</md5content><result><operation>capture</operation><status>ok</status><date>2022-07-20</date><time>16:52:21 UTC+0000</time><origAmount>46.84</origAmount><origCurrency>EUR</origCurrency><idForMerchant>3713</idForMerchant><emailClient>aymericmathias@gmail.com</emailClient><idClient>21255185</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>3713</_aKey_cart_id>  <_aKey_customer_id>2272</_aKey_customer_id>  <_aKey_secure_key>dd9cfcef89ee44a973658004a9bf745f</_aKey_secure_key>  <_aKey_token>fdf5261d26cb907ff7558c342a91d243</_aKey_token></merchantDatas><transid>62D83284376CB645</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => ac6cef22c8b35616e1b422546e4fb996
            [result] => Array
                (
                    [operation] => capture
                    [status] => ok
                    [date] => 2022-07-20
                    [time] => 16:52:21 UTC+0000
                    [origAmount] => 46.84
                    [origCurrency] => EUR
                    [idForMerchant] => 3713
                    [emailClient] => aymericmathias@gmail.com
                    [idClient] => 21255185
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 3713
                            [_aKey_customer_id] => 2272
                            [_aKey_secure_key] => dd9cfcef89ee44a973658004a9bf745f
                            [_aKey_token] => fdf5261d26cb907ff7558c342a91d243
                        )

                    [transid] => 62D83284376CB645
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 3713
    [3] => 2272
    [4] => dd9cfcef89ee44a973658004a9bf745f
    [5] => 46.84
)

## 2022-07-20 18:52:24 ##
----> START registerOrder()
## 2022-07-20 18:52:24 ##
accountID:13248407 / websiteId:418801
## 2022-07-20 18:52:24 ##
<result><operation>capture</operation><status>ok</status><date>2022-07-20</date><time>16:52:21 UTC+0000</time><origAmount>46.84</origAmount><origCurrency>EUR</origCurrency><idForMerchant>3713</idForMerchant><emailClient>aymericmathias@gmail.com</emailClient><idClient>21255185</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>3713</_aKey_cart_id>  <_aKey_customer_id>2272</_aKey_customer_id>  <_aKey_secure_key>dd9cfcef89ee44a973658004a9bf745f</_aKey_secure_key>  <_aKey_token>fdf5261d26cb907ff7558c342a91d243</_aKey_token></merchantDatas><transid>62D83284376CB645</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2022-07-20 18:52:24 ##
currency : EUR
## 2022-07-20 18:52:24 ##
accountID:13248407 / websiteId:418801
## 2022-07-20 18:52:24 ##
callback_salt : 
## 2022-07-20 18:52:24 ##
md5 : ac6cef22c8b35616e1b422546e4fb996 == md5content : ac6cef22c8b35616e1b422546e4fb996
## 2022-07-20 18:52:24 ##
Status = ok
## 2022-07-20 18:52:24 ##
$currency = EUR
## 2022-07-20 18:52:24 ##
id_order_state = 2
## 2022-07-20 18:52:24 ##
----> START placeOrder()
## 2022-07-20 18:52:24 ##
Treatment an existing order
## 2022-07-20 18:52:24 ##
If current status order = HIPAY_OS_WAITING Then change status with this id_status = 2
## 2022-07-20 18:52:24 ##
Array
(
    [operation] => capture
    [status] => ok
    [date] => 2022-07-20
    [time] => 16:52:21 UTC+0000
    [origAmount] => 46.84
    [origCurrency] => EUR
    [idForMerchant] => 3713
    [emailClient] => aymericmathias@gmail.com
    [idClient] => 21255185
    [cardCountry] => FR
    [ipCountry] => FR
    [merchantDatas] => Array
        (
            [_aKey_cart_id] => 3713
            [_aKey_customer_id] => 2272
            [_aKey_secure_key] => dd9cfcef89ee44a973658004a9bf745f
            [_aKey_token] => fdf5261d26cb907ff7558c342a91d243
        )

    [transid] => 62D83284376CB645
    [is3ds] => Yes
    [paymentMethod] => CB
    [customerCountry] => FR
    [returnCode] => Array
        (
        )

    [returnDescriptionShort] => Array
        (
        )

    [returnDescriptionLong] => Array
        (
        )

)

## 2022-07-20 18:52:25 ##
----> END placeOrder()
## 2022-07-20 18:52:25 ##
----> END registerOrder()
## 2022-07-20 18:52:25 ##
----> Treatment is unlocked for the id_cart = 3713
