## 2021-11-10 13:39:27 ##
##########################
## 2021-11-10 13:39:27 ##
START Validation Callback
## 2021-11-10 13:39:27 ##
##########################
## 2021-11-10 13:39:27 ##
----> Treatment is locked for the id_cart = 848
## 2021-11-10 13:39:27 ##
data for validation
## 2021-11-10 13:39:27 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>060bbbabb00766af3a9271cc31cc8fac</md5content><result><operation>authorization</operation><status>nok</status><date>2021-11-10</date><time>12:39:23 UTC+0000</time><origAmount>396.00</origAmount><origCurrency>EUR</origCurrency><idForMerchant>848</idForMerchant><emailClient>sarl-dsa@orange.fr</emailClient><idClient>18390800</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>848</_aKey_cart_id>  <_aKey_customer_id>1262</_aKey_customer_id>  <_aKey_secure_key>aeca0e8f4ecd0acee1fee93ac65474de</_aKey_secure_key>  <_aKey_token>d434bc948ea86bfc67fd62416a57d58d</_aKey_token></merchantDatas><transid>618BBC592F958233</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 060bbbabb00766af3a9271cc31cc8fac
            [result] => Array
                (
                    [operation] => authorization
                    [status] => nok
                    [date] => 2021-11-10
                    [time] => 12:39:23 UTC+0000
                    [origAmount] => 396.00
                    [origCurrency] => EUR
                    [idForMerchant] => 848
                    [emailClient] => sarl-dsa@orange.fr
                    [idClient] => 18390800
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 848
                            [_aKey_customer_id] => 1262
                            [_aKey_secure_key] => aeca0e8f4ecd0acee1fee93ac65474de
                            [_aKey_token] => d434bc948ea86bfc67fd62416a57d58d
                        )

                    [transid] => 618BBC592F958233
                    [is3ds] => Yes
                    [paymentMethod] => VISA
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 848
    [3] => 1262
    [4] => aeca0e8f4ecd0acee1fee93ac65474de
    [5] => 396
)

## 2021-11-10 13:39:27 ##
----> START registerOrder()
## 2021-11-10 13:39:27 ##
accountID:13248407 / websiteId:418801
## 2021-11-10 13:39:27 ##
<result><operation>authorization</operation><status>nok</status><date>2021-11-10</date><time>12:39:23 UTC+0000</time><origAmount>396.00</origAmount><origCurrency>EUR</origCurrency><idForMerchant>848</idForMerchant><emailClient>sarl-dsa@orange.fr</emailClient><idClient>18390800</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>848</_aKey_cart_id>  <_aKey_customer_id>1262</_aKey_customer_id>  <_aKey_secure_key>aeca0e8f4ecd0acee1fee93ac65474de</_aKey_secure_key>  <_aKey_token>d434bc948ea86bfc67fd62416a57d58d</_aKey_token></merchantDatas><transid>618BBC592F958233</transid><is3ds>Yes</is3ds><paymentMethod>VISA</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2021-11-10 13:39:27 ##
currency : EUR
## 2021-11-10 13:39:27 ##
accountID:13248407 / websiteId:418801
## 2021-11-10 13:39:27 ##
callback_salt : 
## 2021-11-10 13:39:27 ##
md5 : 060bbbabb00766af3a9271cc31cc8fac == md5content : 060bbbabb00766af3a9271cc31cc8fac
## 2021-11-10 13:39:27 ##
Status = nok
## 2021-11-10 13:39:27 ##
$currency = EUR
## 2021-11-10 13:39:27 ##
id_order_state = 8
## 2021-11-10 13:39:27 ##
----> START placeOrder()
## 2021-11-10 13:39:27 ##
Treatment status = ERROR
## 2021-11-10 13:39:27 ##
Array
(
    [operation] =&gt; authorization
    [status] =&gt; nok
    [date] =&gt; 2021-11-10
    [time] =&gt; 12:39:23 UTC+0000
    [origAmount] =&gt; 396.00
    [origCurrency] =&gt; EUR
    [idForMerchant] =&gt; 848
    [emailClient] =&gt; sarl-dsa@orange.fr
    [idClient] =&gt; 18390800
    [cardCountry] =&gt; FR
    [ipCountry] =&gt; FR
    [merchantDatas] =&gt; Array
        (
            [_aKey_cart_id] =&gt; 848
            [_aKey_customer_id] =&gt; 1262
            [_aKey_secure_key] =&gt; aeca0e8f4ecd0acee1fee93ac65474de
            [_aKey_token] =&gt; d434bc948ea86bfc67fd62416a57d58d
        )

    [transid] =&gt; 618BBC592F958233
    [is3ds] =&gt; Yes
    [paymentMethod] =&gt; VISA
    [customerCountry] =&gt; FR
    [returnCode] =&gt; Array
        (
        )

    [returnDescriptionShort] =&gt; Array
        (
        )

    [returnDescriptionLong] =&gt; Array
        (
        )

)

## 2021-11-10 13:39:27 ##
----> END placeOrder()
## 2021-11-10 13:39:27 ##
----> END registerOrder()
## 2021-11-10 13:39:27 ##
----> Treatment is unlocked for the id_cart = 848
## 2021-11-10 17:02:21 ##
##########################
## 2021-11-10 17:02:21 ##
START Validation Callback
## 2021-11-10 17:02:21 ##
##########################
## 2021-11-10 17:02:21 ##
----> Treatment is locked for the id_cart = 896
## 2021-11-10 17:02:21 ##
data for validation
## 2021-11-10 17:02:21 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>0f5793d0f68da19123064cf117988840</md5content><result><operation>authorization</operation><status>ok</status><date>2021-11-10</date><time>16:02:16 UTC+0000</time><origAmount>76.24</origAmount><origCurrency>EUR</origCurrency><idForMerchant>896</idForMerchant><emailClient>rschristmann@free.fr</emailClient><idClient>19651496</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>896</_aKey_cart_id>  <_aKey_customer_id>1584</_aKey_customer_id>  <_aKey_secure_key>ff8d49666eff6c11262865e0651b40c6</_aKey_secure_key>  <_aKey_token>d076f74d62873c79690dd7d41c065817</_aKey_token></merchantDatas><transid>618BECCB28431610</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 0f5793d0f68da19123064cf117988840
            [result] => Array
                (
                    [operation] => authorization
                    [status] => ok
                    [date] => 2021-11-10
                    [time] => 16:02:16 UTC+0000
                    [origAmount] => 76.24
                    [origCurrency] => EUR
                    [idForMerchant] => 896
                    [emailClient] => rschristmann@free.fr
                    [idClient] => 19651496
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 896
                            [_aKey_customer_id] => 1584
                            [_aKey_secure_key] => ff8d49666eff6c11262865e0651b40c6
                            [_aKey_token] => d076f74d62873c79690dd7d41c065817
                        )

                    [transid] => 618BECCB28431610
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 896
    [3] => 1584
    [4] => ff8d49666eff6c11262865e0651b40c6
    [5] => 76.24
)

## 2021-11-10 17:02:21 ##
----> START registerOrder()
## 2021-11-10 17:02:21 ##
accountID:13248407 / websiteId:418801
## 2021-11-10 17:02:21 ##
<result><operation>authorization</operation><status>ok</status><date>2021-11-10</date><time>16:02:16 UTC+0000</time><origAmount>76.24</origAmount><origCurrency>EUR</origCurrency><idForMerchant>896</idForMerchant><emailClient>rschristmann@free.fr</emailClient><idClient>19651496</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>896</_aKey_cart_id>  <_aKey_customer_id>1584</_aKey_customer_id>  <_aKey_secure_key>ff8d49666eff6c11262865e0651b40c6</_aKey_secure_key>  <_aKey_token>d076f74d62873c79690dd7d41c065817</_aKey_token></merchantDatas><transid>618BECCB28431610</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2021-11-10 17:02:21 ##
currency : EUR
## 2021-11-10 17:02:21 ##
accountID:13248407 / websiteId:418801
## 2021-11-10 17:02:21 ##
callback_salt : 
## 2021-11-10 17:02:21 ##
md5 : 0f5793d0f68da19123064cf117988840 == md5content : 0f5793d0f68da19123064cf117988840
## 2021-11-10 17:02:21 ##
Status = ok
## 2021-11-10 17:02:21 ##
$currency = EUR
## 2021-11-10 17:02:21 ##
id_order_state = 42
## 2021-11-10 17:02:21 ##
----> START placeOrder()
## 2021-11-10 17:02:21 ##
Treatment status = 42
## 2021-11-10 17:02:21 ##
Validate order
## 2021-11-10 17:02:21 ##
Array
(
    [0] => 896
    [1] => 42
    [2] => 76.24
    [3] => HiPay Professional
    [4] => {"Environment":"PRODUCTION","Payment method":"CB","Transaction ID":"618BECCB28431610"}
    [5] => Array
        (
            [transaction_id] => 618BECCB28431610
        )

    [6] => 1
    [7] => ff8d49666eff6c11262865e0651b40c6
)

## 2021-11-10 17:02:21 ##
ID Shop = 1
## 2021-11-10 17:02:23 ##
Order created
## 2021-11-10 17:02:23 ##
----> END placeOrder()
## 2021-11-10 17:02:23 ##
----> END registerOrder()
## 2021-11-10 17:02:23 ##
----> Treatment is unlocked for the id_cart = 896
## 2021-11-10 17:02:28 ##
##########################
## 2021-11-10 17:02:28 ##
START Validation Callback
## 2021-11-10 17:02:28 ##
##########################
## 2021-11-10 17:02:28 ##
----> Treatment is locked for the id_cart = 896
## 2021-11-10 17:02:28 ##
data for validation
## 2021-11-10 17:02:28 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>d021f943228a30dc57b277d2d3c30345</md5content><result><operation>capture</operation><status>ok</status><date>2021-11-10</date><time>16:02:23 UTC+0000</time><origAmount>76.24</origAmount><origCurrency>EUR</origCurrency><idForMerchant>896</idForMerchant><emailClient>rschristmann@free.fr</emailClient><idClient>19651496</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>896</_aKey_cart_id>  <_aKey_customer_id>1584</_aKey_customer_id>  <_aKey_secure_key>ff8d49666eff6c11262865e0651b40c6</_aKey_secure_key>  <_aKey_token>d076f74d62873c79690dd7d41c065817</_aKey_token></merchantDatas><transid>618BECCB28431610</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => d021f943228a30dc57b277d2d3c30345
            [result] => Array
                (
                    [operation] => capture
                    [status] => ok
                    [date] => 2021-11-10
                    [time] => 16:02:23 UTC+0000
                    [origAmount] => 76.24
                    [origCurrency] => EUR
                    [idForMerchant] => 896
                    [emailClient] => rschristmann@free.fr
                    [idClient] => 19651496
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 896
                            [_aKey_customer_id] => 1584
                            [_aKey_secure_key] => ff8d49666eff6c11262865e0651b40c6
                            [_aKey_token] => d076f74d62873c79690dd7d41c065817
                        )

                    [transid] => 618BECCB28431610
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 896
    [3] => 1584
    [4] => ff8d49666eff6c11262865e0651b40c6
    [5] => 76.24
)

## 2021-11-10 17:02:28 ##
----> START registerOrder()
## 2021-11-10 17:02:28 ##
accountID:13248407 / websiteId:418801
## 2021-11-10 17:02:28 ##
<result><operation>capture</operation><status>ok</status><date>2021-11-10</date><time>16:02:23 UTC+0000</time><origAmount>76.24</origAmount><origCurrency>EUR</origCurrency><idForMerchant>896</idForMerchant><emailClient>rschristmann@free.fr</emailClient><idClient>19651496</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>896</_aKey_cart_id>  <_aKey_customer_id>1584</_aKey_customer_id>  <_aKey_secure_key>ff8d49666eff6c11262865e0651b40c6</_aKey_secure_key>  <_aKey_token>d076f74d62873c79690dd7d41c065817</_aKey_token></merchantDatas><transid>618BECCB28431610</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2021-11-10 17:02:28 ##
currency : EUR
## 2021-11-10 17:02:28 ##
accountID:13248407 / websiteId:418801
## 2021-11-10 17:02:28 ##
callback_salt : 
## 2021-11-10 17:02:28 ##
md5 : d021f943228a30dc57b277d2d3c30345 == md5content : d021f943228a30dc57b277d2d3c30345
## 2021-11-10 17:02:28 ##
Status = ok
## 2021-11-10 17:02:28 ##
$currency = EUR
## 2021-11-10 17:02:28 ##
id_order_state = 2
## 2021-11-10 17:02:28 ##
----> START placeOrder()
## 2021-11-10 17:02:28 ##
Treatment an existing order
## 2021-11-10 17:02:28 ##
If current status order = HIPAY_OS_WAITING Then change status with this id_status = 2
## 2021-11-10 17:02:28 ##
Array
(
    [operation] => capture
    [status] => ok
    [date] => 2021-11-10
    [time] => 16:02:23 UTC+0000
    [origAmount] => 76.24
    [origCurrency] => EUR
    [idForMerchant] => 896
    [emailClient] => rschristmann@free.fr
    [idClient] => 19651496
    [cardCountry] => FR
    [ipCountry] => FR
    [merchantDatas] => Array
        (
            [_aKey_cart_id] => 896
            [_aKey_customer_id] => 1584
            [_aKey_secure_key] => ff8d49666eff6c11262865e0651b40c6
            [_aKey_token] => d076f74d62873c79690dd7d41c065817
        )

    [transid] => 618BECCB28431610
    [is3ds] => Yes
    [paymentMethod] => CB
    [customerCountry] => FR
    [returnCode] => Array
        (
        )

    [returnDescriptionShort] => Array
        (
        )

    [returnDescriptionLong] => Array
        (
        )

)

## 2021-11-10 17:02:29 ##
----> END placeOrder()
## 2021-11-10 17:02:29 ##
----> END registerOrder()
## 2021-11-10 17:02:29 ##
----> Treatment is unlocked for the id_cart = 896
