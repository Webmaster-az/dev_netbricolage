## 2025-11-12 12:08:16 ##
##########################
## 2025-11-12 12:08:16 ##
START Validation Callback
## 2025-11-12 12:08:16 ##
##########################
## 2025-11-12 12:08:16 ##
----> Treatment is locked for the id_cart = 20055
## 2025-11-12 12:08:16 ##
data for validation
## 2025-11-12 12:08:16 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>f72776575a94c475085e514d57e347f3</md5content><result><operation>authorization</operation><status>ok</status><date>2025-11-12</date><time>11:08:14 UTC+0000</time><origAmount>334.51</origAmount><origCurrency>EUR</origCurrency><idForMerchant>20055</idForMerchant><emailClient>thomas.boutes@hotmail.fr</emailClient><idClient>25047920</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>20055</_aKey_cart_id>  <_aKey_customer_id>5259</_aKey_customer_id>  <_aKey_secure_key>1a81a499a26a136c1a2f6b3bfd4dc13e</_aKey_secure_key>  <_aKey_token>ed0d5a46e0fe9aa7887a2ba2575b6372</_aKey_token></merchantDatas><transid>69146A7711ED5342</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => f72776575a94c475085e514d57e347f3
            [result] => Array
                (
                    [operation] => authorization
                    [status] => ok
                    [date] => 2025-11-12
                    [time] => 11:08:14 UTC+0000
                    [origAmount] => 334.51
                    [origCurrency] => EUR
                    [idForMerchant] => 20055
                    [emailClient] => thomas.boutes@hotmail.fr
                    [idClient] => 25047920
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 20055
                            [_aKey_customer_id] => 5259
                            [_aKey_secure_key] => 1a81a499a26a136c1a2f6b3bfd4dc13e
                            [_aKey_token] => ed0d5a46e0fe9aa7887a2ba2575b6372
                        )

                    [transid] => 69146A7711ED5342
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 20055
    [3] => 5259
    [4] => 1a81a499a26a136c1a2f6b3bfd4dc13e
    [5] => 334.51
)

## 2025-11-12 12:08:16 ##
----> START registerOrder()
## 2025-11-12 12:08:16 ##
accountID:13248407 / websiteId:417972
## 2025-11-12 12:08:16 ##
<result><operation>authorization</operation><status>ok</status><date>2025-11-12</date><time>11:08:14 UTC+0000</time><origAmount>334.51</origAmount><origCurrency>EUR</origCurrency><idForMerchant>20055</idForMerchant><emailClient>thomas.boutes@hotmail.fr</emailClient><idClient>25047920</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>20055</_aKey_cart_id>  <_aKey_customer_id>5259</_aKey_customer_id>  <_aKey_secure_key>1a81a499a26a136c1a2f6b3bfd4dc13e</_aKey_secure_key>  <_aKey_token>ed0d5a46e0fe9aa7887a2ba2575b6372</_aKey_token></merchantDatas><transid>69146A7711ED5342</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2025-11-12 12:08:16 ##
currency : EUR
## 2025-11-12 12:08:16 ##
accountID:13248407 / websiteId:417972
## 2025-11-12 12:08:16 ##
callback_salt : 
## 2025-11-12 12:08:16 ##
md5 : f72776575a94c475085e514d57e347f3 == md5content : f72776575a94c475085e514d57e347f3
## 2025-11-12 12:08:16 ##
Status = ok
## 2025-11-12 12:08:16 ##
$currency = EUR
## 2025-11-12 12:08:16 ##
id_order_state = 42
## 2025-11-12 12:08:16 ##
----> START placeOrder()
## 2025-11-12 12:08:16 ##
Treatment status = 42
## 2025-11-12 12:08:16 ##
Validate order
## 2025-11-12 12:08:16 ##
Array
(
    [0] => 20055
    [1] => 42
    [2] => 334.51
    [3] => HiPay Professional
    [4] => {"Environment":"PRODUCTION","Payment method":"CB","Transaction ID":"69146A7711ED5342"}
    [5] => Array
        (
            [transaction_id] => 69146A7711ED5342
        )

    [6] => 1
    [7] => 1a81a499a26a136c1a2f6b3bfd4dc13e
)

## 2025-11-12 12:08:16 ##
ID Shop = 1
## 2025-11-12 12:08:19 ##
Order created
## 2025-11-12 12:08:19 ##
----> END placeOrder()
## 2025-11-12 12:08:19 ##
----> END registerOrder()
## 2025-11-12 12:08:19 ##
----> Treatment is unlocked for the id_cart = 20055
## 2025-11-12 12:08:25 ##
##########################
## 2025-11-12 12:08:25 ##
START Validation Callback
## 2025-11-12 12:08:25 ##
##########################
## 2025-11-12 12:08:25 ##
----> Treatment is locked for the id_cart = 20055
## 2025-11-12 12:08:25 ##
data for validation
## 2025-11-12 12:08:25 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>968977864adb234b1faed3285af018e0</md5content><result><operation>capture</operation><status>ok</status><date>2025-11-12</date><time>11:08:22 UTC+0000</time><origAmount>334.51</origAmount><origCurrency>EUR</origCurrency><idForMerchant>20055</idForMerchant><emailClient>thomas.boutes@hotmail.fr</emailClient><idClient>25047920</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>20055</_aKey_cart_id>  <_aKey_customer_id>5259</_aKey_customer_id>  <_aKey_secure_key>1a81a499a26a136c1a2f6b3bfd4dc13e</_aKey_secure_key>  <_aKey_token>ed0d5a46e0fe9aa7887a2ba2575b6372</_aKey_token></merchantDatas><transid>69146A7711ED5342</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 968977864adb234b1faed3285af018e0
            [result] => Array
                (
                    [operation] => capture
                    [status] => ok
                    [date] => 2025-11-12
                    [time] => 11:08:22 UTC+0000
                    [origAmount] => 334.51
                    [origCurrency] => EUR
                    [idForMerchant] => 20055
                    [emailClient] => thomas.boutes@hotmail.fr
                    [idClient] => 25047920
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 20055
                            [_aKey_customer_id] => 5259
                            [_aKey_secure_key] => 1a81a499a26a136c1a2f6b3bfd4dc13e
                            [_aKey_token] => ed0d5a46e0fe9aa7887a2ba2575b6372
                        )

                    [transid] => 69146A7711ED5342
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 20055
    [3] => 5259
    [4] => 1a81a499a26a136c1a2f6b3bfd4dc13e
    [5] => 334.51
)

## 2025-11-12 12:08:25 ##
----> START registerOrder()
## 2025-11-12 12:08:25 ##
accountID:13248407 / websiteId:417972
## 2025-11-12 12:08:25 ##
<result><operation>capture</operation><status>ok</status><date>2025-11-12</date><time>11:08:22 UTC+0000</time><origAmount>334.51</origAmount><origCurrency>EUR</origCurrency><idForMerchant>20055</idForMerchant><emailClient>thomas.boutes@hotmail.fr</emailClient><idClient>25047920</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>20055</_aKey_cart_id>  <_aKey_customer_id>5259</_aKey_customer_id>  <_aKey_secure_key>1a81a499a26a136c1a2f6b3bfd4dc13e</_aKey_secure_key>  <_aKey_token>ed0d5a46e0fe9aa7887a2ba2575b6372</_aKey_token></merchantDatas><transid>69146A7711ED5342</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2025-11-12 12:08:25 ##
currency : EUR
## 2025-11-12 12:08:25 ##
accountID:13248407 / websiteId:417972
## 2025-11-12 12:08:25 ##
callback_salt : 
## 2025-11-12 12:08:25 ##
md5 : 968977864adb234b1faed3285af018e0 == md5content : 968977864adb234b1faed3285af018e0
## 2025-11-12 12:08:25 ##
Status = ok
## 2025-11-12 12:08:25 ##
$currency = EUR
## 2025-11-12 12:08:25 ##
id_order_state = 2
## 2025-11-12 12:08:25 ##
----> START placeOrder()
## 2025-11-12 12:08:25 ##
Treatment an existing order
## 2025-11-12 12:08:25 ##
If current status order = HIPAY_OS_WAITING Then change status with this id_status = 2
## 2025-11-12 12:08:25 ##
Array
(
    [operation] => capture
    [status] => ok
    [date] => 2025-11-12
    [time] => 11:08:22 UTC+0000
    [origAmount] => 334.51
    [origCurrency] => EUR
    [idForMerchant] => 20055
    [emailClient] => thomas.boutes@hotmail.fr
    [idClient] => 25047920
    [cardCountry] => FR
    [ipCountry] => FR
    [merchantDatas] => Array
        (
            [_aKey_cart_id] => 20055
            [_aKey_customer_id] => 5259
            [_aKey_secure_key] => 1a81a499a26a136c1a2f6b3bfd4dc13e
            [_aKey_token] => ed0d5a46e0fe9aa7887a2ba2575b6372
        )

    [transid] => 69146A7711ED5342
    [is3ds] => Yes
    [paymentMethod] => CB
    [customerCountry] => FR
    [returnCode] => Array
        (
        )

    [returnDescriptionShort] => Array
        (
        )

    [returnDescriptionLong] => Array
        (
        )

)

## 2025-11-12 12:08:26 ##
----> END placeOrder()
## 2025-11-12 12:08:26 ##
----> END registerOrder()
## 2025-11-12 12:08:26 ##
----> Treatment is unlocked for the id_cart = 20055
## 2025-11-12 16:19:21 ##
##########################
## 2025-11-12 16:19:21 ##
START Validation Callback
## 2025-11-12 16:19:21 ##
##########################
## 2025-11-12 16:19:21 ##
----> Treatment is locked for the id_cart = 19564
## 2025-11-12 16:19:21 ##
data for validation
## 2025-11-12 16:19:21 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>2d35d9f332bbe1d5f58995cd02304b6b</md5content><result><operation>refund</operation><status>ok</status><date>2025-11-12</date><time>15:19:18 UTC+0000</time><origAmount>26.90</origAmount><origCurrency>EUR</origCurrency><idForMerchant>19564</idForMerchant><emailClient>hubert.massengo@hotmail.fr</emailClient><idClient>24955068</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>19564</_aKey_cart_id>  <_aKey_customer_id>5158</_aKey_customer_id>  <_aKey_secure_key>b51670143b63a2d9e642bc6b01c09070</_aKey_secure_key>  <_aKey_token>065d57ece7805ccecc2a070f318cc52a</_aKey_token></merchantDatas><transid>68D5604D48B69216</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><refundedAmount>26.90</refundedAmount><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 2d35d9f332bbe1d5f58995cd02304b6b
            [result] => Array
                (
                    [operation] => refund
                    [status] => ok
                    [date] => 2025-11-12
                    [time] => 15:19:18 UTC+0000
                    [origAmount] => 26.90
                    [origCurrency] => EUR
                    [idForMerchant] => 19564
                    [emailClient] => hubert.massengo@hotmail.fr
                    [idClient] => 24955068
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 19564
                            [_aKey_customer_id] => 5158
                            [_aKey_secure_key] => b51670143b63a2d9e642bc6b01c09070
                            [_aKey_token] => 065d57ece7805ccecc2a070f318cc52a
                        )

                    [transid] => 68D5604D48B69216
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [refundedAmount] => 26.90
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 19564
    [3] => 5158
    [4] => b51670143b63a2d9e642bc6b01c09070
    [5] => 26.9
)

## 2025-11-12 16:19:21 ##
----> START registerOrder()
## 2025-11-12 16:19:21 ##
accountID:13248407 / websiteId:417972
## 2025-11-12 16:19:21 ##
<result><operation>refund</operation><status>ok</status><date>2025-11-12</date><time>15:19:18 UTC+0000</time><origAmount>26.90</origAmount><origCurrency>EUR</origCurrency><idForMerchant>19564</idForMerchant><emailClient>hubert.massengo@hotmail.fr</emailClient><idClient>24955068</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>19564</_aKey_cart_id>  <_aKey_customer_id>5158</_aKey_customer_id>  <_aKey_secure_key>b51670143b63a2d9e642bc6b01c09070</_aKey_secure_key>  <_aKey_token>065d57ece7805ccecc2a070f318cc52a</_aKey_token></merchantDatas><transid>68D5604D48B69216</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><refundedAmount>26.90</refundedAmount><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2025-11-12 16:19:21 ##
currency : EUR
## 2025-11-12 16:19:21 ##
accountID:13248407 / websiteId:417972
## 2025-11-12 16:19:21 ##
callback_salt : 
## 2025-11-12 16:19:21 ##
md5 : 2d35d9f332bbe1d5f58995cd02304b6b == md5content : 2d35d9f332bbe1d5f58995cd02304b6b
## 2025-11-12 16:19:21 ##
Status = ok
## 2025-11-12 16:19:21 ##
$currency = EUR
## 2025-11-12 16:19:21 ##
id_order_state = 2
## 2025-11-12 16:19:21 ##
----> START placeOrder()
## 2025-11-12 16:19:21 ##
Treatment an existing order
## 2025-11-12 16:19:21 ##
getCurrentState 7 != HIPAY_OS_WAITING 42
## 2025-11-12 16:19:21 ##
----> END placeOrder()
## 2025-11-12 16:19:21 ##
----> END registerOrder()
## 2025-11-12 16:19:21 ##
----> Treatment is unlocked for the id_cart = 19564
## 2025-11-12 18:56:22 ##
##########################
## 2025-11-12 18:56:22 ##
START Validation Callback
## 2025-11-12 18:56:22 ##
##########################
## 2025-11-12 18:56:22 ##
----> Treatment is locked for the id_cart = 12548
## 2025-11-12 18:56:22 ##
data for validation
## 2025-11-12 18:56:22 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>1eb9de7e916060a8d80be5bb88392257</md5content><result><operation>authorization</operation><status>nok</status><date>2025-11-12</date><time>17:56:20 UTC+0000</time><origAmount>105.75</origAmount><origCurrency>EUR</origCurrency><idForMerchant>12548</idForMerchant><emailClient>contact@mpk-modulaire.com</emailClient><idClient>25048625</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>12548</_aKey_cart_id>  <_aKey_customer_id>4005</_aKey_customer_id>  <_aKey_secure_key>c8ecb2d4c96bebceb76341b82f03db70</_aKey_secure_key>  <_aKey_token>ec6b01ca5f1795f8c70e95ea952b7f17</_aKey_token></merchantDatas><transid>6914C8FE07A39343</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 1eb9de7e916060a8d80be5bb88392257
            [result] => Array
                (
                    [operation] => authorization
                    [status] => nok
                    [date] => 2025-11-12
                    [time] => 17:56:20 UTC+0000
                    [origAmount] => 105.75
                    [origCurrency] => EUR
                    [idForMerchant] => 12548
                    [emailClient] => contact@mpk-modulaire.com
                    [idClient] => 25048625
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 12548
                            [_aKey_customer_id] => 4005
                            [_aKey_secure_key] => c8ecb2d4c96bebceb76341b82f03db70
                            [_aKey_token] => ec6b01ca5f1795f8c70e95ea952b7f17
                        )

                    [transid] => 6914C8FE07A39343
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 12548
    [3] => 4005
    [4] => c8ecb2d4c96bebceb76341b82f03db70
    [5] => 105.75
)

## 2025-11-12 18:56:22 ##
----> START registerOrder()
## 2025-11-12 18:56:22 ##
accountID:13248407 / websiteId:417972
## 2025-11-12 18:56:22 ##
<result><operation>authorization</operation><status>nok</status><date>2025-11-12</date><time>17:56:20 UTC+0000</time><origAmount>105.75</origAmount><origCurrency>EUR</origCurrency><idForMerchant>12548</idForMerchant><emailClient>contact@mpk-modulaire.com</emailClient><idClient>25048625</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>12548</_aKey_cart_id>  <_aKey_customer_id>4005</_aKey_customer_id>  <_aKey_secure_key>c8ecb2d4c96bebceb76341b82f03db70</_aKey_secure_key>  <_aKey_token>ec6b01ca5f1795f8c70e95ea952b7f17</_aKey_token></merchantDatas><transid>6914C8FE07A39343</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2025-11-12 18:56:22 ##
currency : EUR
## 2025-11-12 18:56:22 ##
accountID:13248407 / websiteId:417972
## 2025-11-12 18:56:22 ##
callback_salt : 
## 2025-11-12 18:56:22 ##
md5 : 1eb9de7e916060a8d80be5bb88392257 == md5content : 1eb9de7e916060a8d80be5bb88392257
## 2025-11-12 18:56:22 ##
Status = nok
## 2025-11-12 18:56:22 ##
$currency = EUR
## 2025-11-12 18:56:22 ##
id_order_state = 8
## 2025-11-12 18:56:22 ##
----> START placeOrder()
## 2025-11-12 18:56:22 ##
Treatment status = ERROR
## 2025-11-12 18:56:22 ##
Array
(
    [operation] =&gt; authorization
    [status] =&gt; nok
    [date] =&gt; 2025-11-12
    [time] =&gt; 17:56:20 UTC+0000
    [origAmount] =&gt; 105.75
    [origCurrency] =&gt; EUR
    [idForMerchant] =&gt; 12548
    [emailClient] =&gt; contact@mpk-modulaire.com
    [idClient] =&gt; 25048625
    [cardCountry] =&gt; FR
    [ipCountry] =&gt; FR
    [merchantDatas] =&gt; Array
        (
            [_aKey_cart_id] =&gt; 12548
            [_aKey_customer_id] =&gt; 4005
            [_aKey_secure_key] =&gt; c8ecb2d4c96bebceb76341b82f03db70
            [_aKey_token] =&gt; ec6b01ca5f1795f8c70e95ea952b7f17
        )

    [transid] =&gt; 6914C8FE07A39343
    [is3ds] =&gt; Yes
    [paymentMethod] =&gt; CB
    [customerCountry] =&gt; FR
    [returnCode] =&gt; Array
        (
        )

    [returnDescriptionShort] =&gt; Array
        (
        )

    [returnDescriptionLong] =&gt; Array
        (
        )

)

## 2025-11-12 18:56:22 ##
----> END placeOrder()
## 2025-11-12 18:56:22 ##
----> END registerOrder()
## 2025-11-12 18:56:22 ##
----> Treatment is unlocked for the id_cart = 12548
## 2025-11-12 18:56:28 ##
##########################
## 2025-11-12 18:56:28 ##
START Validation Callback
## 2025-11-12 18:56:28 ##
##########################
## 2025-11-12 18:56:28 ##
----> Treatment is locked for the id_cart = 12548
## 2025-11-12 18:56:28 ##
data for validation
## 2025-11-12 18:56:28 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>72b60c4d32c1722027bad1ab2bc8d2b8</md5content><result><operation>capture</operation><status>nok</status><date>2025-11-12</date><time>17:56:25 UTC+0000</time><origAmount>105.75</origAmount><origCurrency>EUR</origCurrency><idForMerchant>12548</idForMerchant><emailClient>contact@mpk-modulaire.com</emailClient><idClient>25048625</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>12548</_aKey_cart_id>  <_aKey_customer_id>4005</_aKey_customer_id>  <_aKey_secure_key>c8ecb2d4c96bebceb76341b82f03db70</_aKey_secure_key>  <_aKey_token>ec6b01ca5f1795f8c70e95ea952b7f17</_aKey_token></merchantDatas><transid>6914C8FE07A39343</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 72b60c4d32c1722027bad1ab2bc8d2b8
            [result] => Array
                (
                    [operation] => capture
                    [status] => nok
                    [date] => 2025-11-12
                    [time] => 17:56:25 UTC+0000
                    [origAmount] => 105.75
                    [origCurrency] => EUR
                    [idForMerchant] => 12548
                    [emailClient] => contact@mpk-modulaire.com
                    [idClient] => 25048625
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 12548
                            [_aKey_customer_id] => 4005
                            [_aKey_secure_key] => c8ecb2d4c96bebceb76341b82f03db70
                            [_aKey_token] => ec6b01ca5f1795f8c70e95ea952b7f17
                        )

                    [transid] => 6914C8FE07A39343
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 12548
    [3] => 4005
    [4] => c8ecb2d4c96bebceb76341b82f03db70
    [5] => 105.75
)

## 2025-11-12 18:56:28 ##
----> START registerOrder()
## 2025-11-12 18:56:28 ##
accountID:13248407 / websiteId:417972
## 2025-11-12 18:56:28 ##
<result><operation>capture</operation><status>nok</status><date>2025-11-12</date><time>17:56:25 UTC+0000</time><origAmount>105.75</origAmount><origCurrency>EUR</origCurrency><idForMerchant>12548</idForMerchant><emailClient>contact@mpk-modulaire.com</emailClient><idClient>25048625</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>12548</_aKey_cart_id>  <_aKey_customer_id>4005</_aKey_customer_id>  <_aKey_secure_key>c8ecb2d4c96bebceb76341b82f03db70</_aKey_secure_key>  <_aKey_token>ec6b01ca5f1795f8c70e95ea952b7f17</_aKey_token></merchantDatas><transid>6914C8FE07A39343</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2025-11-12 18:56:28 ##
currency : EUR
## 2025-11-12 18:56:28 ##
accountID:13248407 / websiteId:417972
## 2025-11-12 18:56:28 ##
callback_salt : 
## 2025-11-12 18:56:28 ##
md5 : 72b60c4d32c1722027bad1ab2bc8d2b8 == md5content : 72b60c4d32c1722027bad1ab2bc8d2b8
## 2025-11-12 18:56:28 ##
Status = nok
## 2025-11-12 18:56:28 ##
$currency = EUR
## 2025-11-12 18:56:28 ##
id_order_state = 8
## 2025-11-12 18:56:28 ##
----> START placeOrder()
## 2025-11-12 18:56:28 ##
Treatment status = ERROR
## 2025-11-12 18:56:28 ##
Array
(
    [operation] =&gt; capture
    [status] =&gt; nok
    [date] =&gt; 2025-11-12
    [time] =&gt; 17:56:25 UTC+0000
    [origAmount] =&gt; 105.75
    [origCurrency] =&gt; EUR
    [idForMerchant] =&gt; 12548
    [emailClient] =&gt; contact@mpk-modulaire.com
    [idClient] =&gt; 25048625
    [cardCountry] =&gt; FR
    [ipCountry] =&gt; FR
    [merchantDatas] =&gt; Array
        (
            [_aKey_cart_id] =&gt; 12548
            [_aKey_customer_id] =&gt; 4005
            [_aKey_secure_key] =&gt; c8ecb2d4c96bebceb76341b82f03db70
            [_aKey_token] =&gt; ec6b01ca5f1795f8c70e95ea952b7f17
        )

    [transid] =&gt; 6914C8FE07A39343
    [is3ds] =&gt; Yes
    [paymentMethod] =&gt; CB
    [customerCountry] =&gt; FR
    [returnCode] =&gt; Array
        (
        )

    [returnDescriptionShort] =&gt; Array
        (
        )

    [returnDescriptionLong] =&gt; Array
        (
        )

)

## 2025-11-12 18:56:28 ##
----> END placeOrder()
## 2025-11-12 18:56:28 ##
----> END registerOrder()
## 2025-11-12 18:56:28 ##
----> Treatment is unlocked for the id_cart = 12548
## 2025-11-12 20:00:19 ##
##########################
## 2025-11-12 20:00:19 ##
START Validation Callback
## 2025-11-12 20:00:19 ##
##########################
## 2025-11-12 20:00:19 ##
----> Treatment is locked for the id_cart = 12548
## 2025-11-12 20:00:19 ##
data for validation
## 2025-11-12 20:00:19 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>781a848fbff3456b69de1c3d29758eea</md5content><result><operation>authorization</operation><status>ok</status><date>2025-11-12</date><time>19:00:17 UTC+0000</time><origAmount>105.75</origAmount><origCurrency>EUR</origCurrency><idForMerchant>12548</idForMerchant><emailClient>contact@mpk-modulaire.com</emailClient><idClient>25048625</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>12548</_aKey_cart_id>  <_aKey_customer_id>4005</_aKey_customer_id>  <_aKey_secure_key>c8ecb2d4c96bebceb76341b82f03db70</_aKey_secure_key>  <_aKey_token>ec6b01ca5f1795f8c70e95ea952b7f17</_aKey_token></merchantDatas><transid>6914D91060014343</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 781a848fbff3456b69de1c3d29758eea
            [result] => Array
                (
                    [operation] => authorization
                    [status] => ok
                    [date] => 2025-11-12
                    [time] => 19:00:17 UTC+0000
                    [origAmount] => 105.75
                    [origCurrency] => EUR
                    [idForMerchant] => 12548
                    [emailClient] => contact@mpk-modulaire.com
                    [idClient] => 25048625
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 12548
                            [_aKey_customer_id] => 4005
                            [_aKey_secure_key] => c8ecb2d4c96bebceb76341b82f03db70
                            [_aKey_token] => ec6b01ca5f1795f8c70e95ea952b7f17
                        )

                    [transid] => 6914D91060014343
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 12548
    [3] => 4005
    [4] => c8ecb2d4c96bebceb76341b82f03db70
    [5] => 105.75
)

## 2025-11-12 20:00:19 ##
----> START registerOrder()
## 2025-11-12 20:00:19 ##
accountID:13248407 / websiteId:417972
## 2025-11-12 20:00:19 ##
<result><operation>authorization</operation><status>ok</status><date>2025-11-12</date><time>19:00:17 UTC+0000</time><origAmount>105.75</origAmount><origCurrency>EUR</origCurrency><idForMerchant>12548</idForMerchant><emailClient>contact@mpk-modulaire.com</emailClient><idClient>25048625</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>12548</_aKey_cart_id>  <_aKey_customer_id>4005</_aKey_customer_id>  <_aKey_secure_key>c8ecb2d4c96bebceb76341b82f03db70</_aKey_secure_key>  <_aKey_token>ec6b01ca5f1795f8c70e95ea952b7f17</_aKey_token></merchantDatas><transid>6914D91060014343</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2025-11-12 20:00:19 ##
currency : EUR
## 2025-11-12 20:00:19 ##
accountID:13248407 / websiteId:417972
## 2025-11-12 20:00:19 ##
callback_salt : 
## 2025-11-12 20:00:19 ##
md5 : 781a848fbff3456b69de1c3d29758eea == md5content : 781a848fbff3456b69de1c3d29758eea
## 2025-11-12 20:00:19 ##
Status = ok
## 2025-11-12 20:00:19 ##
$currency = EUR
## 2025-11-12 20:00:19 ##
id_order_state = 42
## 2025-11-12 20:00:19 ##
----> START placeOrder()
## 2025-11-12 20:00:19 ##
Treatment status = 42
## 2025-11-12 20:00:19 ##
Validate order
## 2025-11-12 20:00:19 ##
Array
(
    [0] => 12548
    [1] => 42
    [2] => 105.75
    [3] => HiPay Professional
    [4] => {"Environment":"PRODUCTION","Payment method":"CB","Transaction ID":"6914D91060014343"}
    [5] => Array
        (
            [transaction_id] => 6914D91060014343
        )

    [6] => 1
    [7] => c8ecb2d4c96bebceb76341b82f03db70
)

## 2025-11-12 20:00:19 ##
ID Shop = 1
## 2025-11-12 20:00:29 ##
##########################
## 2025-11-12 20:00:29 ##
START Validation Callback
## 2025-11-12 20:00:29 ##
##########################
## 2025-11-12 20:00:34 ##
Order created
## 2025-11-12 20:00:34 ##
----> END placeOrder()
## 2025-11-12 20:00:34 ##
----> END registerOrder()
## 2025-11-12 20:00:34 ##
----> Treatment is locked for the id_cart = 12548
## 2025-11-12 20:00:34 ##
data for validation
## 2025-11-12 20:00:34 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>42155b10ce070d9b9cae06be1e8931ff</md5content><result><operation>capture</operation><status>ok</status><date>2025-11-12</date><time>19:00:26 UTC+0000</time><origAmount>105.75</origAmount><origCurrency>EUR</origCurrency><idForMerchant>12548</idForMerchant><emailClient>contact@mpk-modulaire.com</emailClient><idClient>25048625</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>12548</_aKey_cart_id>  <_aKey_customer_id>4005</_aKey_customer_id>  <_aKey_secure_key>c8ecb2d4c96bebceb76341b82f03db70</_aKey_secure_key>  <_aKey_token>ec6b01ca5f1795f8c70e95ea952b7f17</_aKey_token></merchantDatas><transid>6914D91060014343</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 42155b10ce070d9b9cae06be1e8931ff
            [result] => Array
                (
                    [operation] => capture
                    [status] => ok
                    [date] => 2025-11-12
                    [time] => 19:00:26 UTC+0000
                    [origAmount] => 105.75
                    [origCurrency] => EUR
                    [idForMerchant] => 12548
                    [emailClient] => contact@mpk-modulaire.com
                    [idClient] => 25048625
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 12548
                            [_aKey_customer_id] => 4005
                            [_aKey_secure_key] => c8ecb2d4c96bebceb76341b82f03db70
                            [_aKey_token] => ec6b01ca5f1795f8c70e95ea952b7f17
                        )

                    [transid] => 6914D91060014343
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 12548
    [3] => 4005
    [4] => c8ecb2d4c96bebceb76341b82f03db70
    [5] => 105.75
)

## 2025-11-12 20:00:34 ##
----> Treatment is unlocked for the id_cart = 12548
## 2025-11-12 20:00:34 ##
----> START registerOrder()
## 2025-11-12 20:00:34 ##
accountID:13248407 / websiteId:417972
## 2025-11-12 20:00:34 ##
<result><operation>capture</operation><status>ok</status><date>2025-11-12</date><time>19:00:26 UTC+0000</time><origAmount>105.75</origAmount><origCurrency>EUR</origCurrency><idForMerchant>12548</idForMerchant><emailClient>contact@mpk-modulaire.com</emailClient><idClient>25048625</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>12548</_aKey_cart_id>  <_aKey_customer_id>4005</_aKey_customer_id>  <_aKey_secure_key>c8ecb2d4c96bebceb76341b82f03db70</_aKey_secure_key>  <_aKey_token>ec6b01ca5f1795f8c70e95ea952b7f17</_aKey_token></merchantDatas><transid>6914D91060014343</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2025-11-12 20:00:34 ##
currency : EUR
## 2025-11-12 20:00:34 ##
accountID:13248407 / websiteId:417972
## 2025-11-12 20:00:34 ##
callback_salt : 
## 2025-11-12 20:00:34 ##
md5 : 42155b10ce070d9b9cae06be1e8931ff == md5content : 42155b10ce070d9b9cae06be1e8931ff
## 2025-11-12 20:00:34 ##
Status = ok
## 2025-11-12 20:00:34 ##
$currency = EUR
## 2025-11-12 20:00:34 ##
id_order_state = 2
## 2025-11-12 20:00:34 ##
----> START placeOrder()
## 2025-11-12 20:00:34 ##
Treatment an existing order
## 2025-11-12 20:00:34 ##
If current status order = HIPAY_OS_WAITING Then change status with this id_status = 2
## 2025-11-12 20:00:34 ##
Array
(
    [operation] => capture
    [status] => ok
    [date] => 2025-11-12
    [time] => 19:00:26 UTC+0000
    [origAmount] => 105.75
    [origCurrency] => EUR
    [idForMerchant] => 12548
    [emailClient] => contact@mpk-modulaire.com
    [idClient] => 25048625
    [cardCountry] => FR
    [ipCountry] => FR
    [merchantDatas] => Array
        (
            [_aKey_cart_id] => 12548
            [_aKey_customer_id] => 4005
            [_aKey_secure_key] => c8ecb2d4c96bebceb76341b82f03db70
            [_aKey_token] => ec6b01ca5f1795f8c70e95ea952b7f17
        )

    [transid] => 6914D91060014343
    [is3ds] => Yes
    [paymentMethod] => CB
    [customerCountry] => FR
    [returnCode] => Array
        (
        )

    [returnDescriptionShort] => Array
        (
        )

    [returnDescriptionLong] => Array
        (
        )

)

## 2025-11-12 20:00:36 ##
----> END placeOrder()
## 2025-11-12 20:00:36 ##
----> END registerOrder()
## 2025-11-12 20:00:36 ##
----> Treatment is unlocked for the id_cart = 12548
