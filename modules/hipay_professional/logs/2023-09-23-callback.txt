## 2023-09-23 09:07:52 ##
##########################
## 2023-09-23 09:07:52 ##
START Validation Callback
## 2023-09-23 09:07:52 ##
##########################
## 2023-09-23 09:07:52 ##
----> Treatment is locked for the id_cart = 10987
## 2023-09-23 09:07:52 ##
data for validation
## 2023-09-23 09:07:52 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>1ecfca87ecd910531b9dd7064dbcd4ce</md5content><result><operation>authorization</operation><status>ok</status><date>2023-09-23</date><time>07:07:51 UTC+0000</time><origAmount>340.16</origAmount><origCurrency>EUR</origCurrency><idForMerchant>10987</idForMerchant><emailClient>florence.mahmoud@gmail.com</emailClient><idClient>22782447</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>10987</_aKey_cart_id>  <_aKey_customer_id>3734</_aKey_customer_id>  <_aKey_secure_key>20e3f7bb6ed2dd0e801d6db8fe3b6a3b</_aKey_secure_key>  <_aKey_token>50064c6c992b2e6a5f80b8cfaa7e9626</_aKey_token></merchantDatas><transid>650E8E7B47E1C143</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 1ecfca87ecd910531b9dd7064dbcd4ce
            [result] => Array
                (
                    [operation] => authorization
                    [status] => ok
                    [date] => 2023-09-23
                    [time] => 07:07:51 UTC+0000
                    [origAmount] => 340.16
                    [origCurrency] => EUR
                    [idForMerchant] => 10987
                    [emailClient] => florence.mahmoud@gmail.com
                    [idClient] => 22782447
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 10987
                            [_aKey_customer_id] => 3734
                            [_aKey_secure_key] => 20e3f7bb6ed2dd0e801d6db8fe3b6a3b
                            [_aKey_token] => 50064c6c992b2e6a5f80b8cfaa7e9626
                        )

                    [transid] => 650E8E7B47E1C143
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 10987
    [3] => 3734
    [4] => 20e3f7bb6ed2dd0e801d6db8fe3b6a3b
    [5] => 340.16
)

## 2023-09-23 09:07:52 ##
----> START registerOrder()
## 2023-09-23 09:07:52 ##
accountID:13248407 / websiteId:417972
## 2023-09-23 09:07:52 ##
<result><operation>authorization</operation><status>ok</status><date>2023-09-23</date><time>07:07:51 UTC+0000</time><origAmount>340.16</origAmount><origCurrency>EUR</origCurrency><idForMerchant>10987</idForMerchant><emailClient>florence.mahmoud@gmail.com</emailClient><idClient>22782447</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>10987</_aKey_cart_id>  <_aKey_customer_id>3734</_aKey_customer_id>  <_aKey_secure_key>20e3f7bb6ed2dd0e801d6db8fe3b6a3b</_aKey_secure_key>  <_aKey_token>50064c6c992b2e6a5f80b8cfaa7e9626</_aKey_token></merchantDatas><transid>650E8E7B47E1C143</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2023-09-23 09:07:52 ##
currency : EUR
## 2023-09-23 09:07:52 ##
accountID:13248407 / websiteId:417972
## 2023-09-23 09:07:52 ##
callback_salt : 
## 2023-09-23 09:07:52 ##
md5 : 1ecfca87ecd910531b9dd7064dbcd4ce == md5content : 1ecfca87ecd910531b9dd7064dbcd4ce
## 2023-09-23 09:07:52 ##
Status = ok
## 2023-09-23 09:07:52 ##
$currency = EUR
## 2023-09-23 09:07:52 ##
id_order_state = 42
## 2023-09-23 09:07:52 ##
----> START placeOrder()
## 2023-09-23 09:07:52 ##
Treatment status = 42
## 2023-09-23 09:07:52 ##
Validate order
## 2023-09-23 09:07:52 ##
Array
(
    [0] => 10987
    [1] => 42
    [2] => 340.16
    [3] => HiPay Professional
    [4] => {"Environment":"PRODUCTION","Payment method":"CB","Transaction ID":"650E8E7B47E1C143"}
    [5] => Array
        (
            [transaction_id] => 650E8E7B47E1C143
        )

    [6] => 1
    [7] => 20e3f7bb6ed2dd0e801d6db8fe3b6a3b
)

## 2023-09-23 09:07:52 ##
ID Shop = 1
## 2023-09-23 09:07:55 ##
Order created
## 2023-09-23 09:07:55 ##
----> END placeOrder()
## 2023-09-23 09:07:55 ##
----> END registerOrder()
## 2023-09-23 09:07:55 ##
----> Treatment is unlocked for the id_cart = 10987
## 2023-09-23 09:08:01 ##
##########################
## 2023-09-23 09:08:01 ##
START Validation Callback
## 2023-09-23 09:08:01 ##
##########################
## 2023-09-23 09:08:01 ##
----> Treatment is locked for the id_cart = 10987
## 2023-09-23 09:08:01 ##
data for validation
## 2023-09-23 09:08:01 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>6dc32776be74e85724a096520d9ba7ee</md5content><result><operation>capture</operation><status>ok</status><date>2023-09-23</date><time>07:07:57 UTC+0000</time><origAmount>340.16</origAmount><origCurrency>EUR</origCurrency><idForMerchant>10987</idForMerchant><emailClient>florence.mahmoud@gmail.com</emailClient><idClient>22782447</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>10987</_aKey_cart_id>  <_aKey_customer_id>3734</_aKey_customer_id>  <_aKey_secure_key>20e3f7bb6ed2dd0e801d6db8fe3b6a3b</_aKey_secure_key>  <_aKey_token>50064c6c992b2e6a5f80b8cfaa7e9626</_aKey_token></merchantDatas><transid>650E8E7B47E1C143</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 6dc32776be74e85724a096520d9ba7ee
            [result] => Array
                (
                    [operation] => capture
                    [status] => ok
                    [date] => 2023-09-23
                    [time] => 07:07:57 UTC+0000
                    [origAmount] => 340.16
                    [origCurrency] => EUR
                    [idForMerchant] => 10987
                    [emailClient] => florence.mahmoud@gmail.com
                    [idClient] => 22782447
                    [cardCountry] => FR
                    [ipCountry] => FR
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 10987
                            [_aKey_customer_id] => 3734
                            [_aKey_secure_key] => 20e3f7bb6ed2dd0e801d6db8fe3b6a3b
                            [_aKey_token] => 50064c6c992b2e6a5f80b8cfaa7e9626
                        )

                    [transid] => 650E8E7B47E1C143
                    [is3ds] => Yes
                    [paymentMethod] => CB
                    [customerCountry] => FR
                    [returnCode] => Array
                        (
                        )

                    [returnDescriptionShort] => Array
                        (
                        )

                    [returnDescriptionLong] => Array
                        (
                        )

                )

        )

    [2] => 10987
    [3] => 3734
    [4] => 20e3f7bb6ed2dd0e801d6db8fe3b6a3b
    [5] => 340.16
)

## 2023-09-23 09:08:01 ##
----> START registerOrder()
## 2023-09-23 09:08:01 ##
accountID:13248407 / websiteId:417972
## 2023-09-23 09:08:01 ##
<result><operation>capture</operation><status>ok</status><date>2023-09-23</date><time>07:07:57 UTC+0000</time><origAmount>340.16</origAmount><origCurrency>EUR</origCurrency><idForMerchant>10987</idForMerchant><emailClient>florence.mahmoud@gmail.com</emailClient><idClient>22782447</idClient><cardCountry>FR</cardCountry><ipCountry>FR</ipCountry><merchantDatas>  <_aKey_cart_id>10987</_aKey_cart_id>  <_aKey_customer_id>3734</_aKey_customer_id>  <_aKey_secure_key>20e3f7bb6ed2dd0e801d6db8fe3b6a3b</_aKey_secure_key>  <_aKey_token>50064c6c992b2e6a5f80b8cfaa7e9626</_aKey_token></merchantDatas><transid>650E8E7B47E1C143</transid><is3ds>Yes</is3ds><paymentMethod>CB</paymentMethod><customerCountry>FR</customerCountry><returnCode/><returnDescriptionShort/><returnDescriptionLong/></result>
## 2023-09-23 09:08:01 ##
currency : EUR
## 2023-09-23 09:08:01 ##
accountID:13248407 / websiteId:417972
## 2023-09-23 09:08:01 ##
callback_salt : 
## 2023-09-23 09:08:01 ##
md5 : 6dc32776be74e85724a096520d9ba7ee == md5content : 6dc32776be74e85724a096520d9ba7ee
## 2023-09-23 09:08:01 ##
Status = ok
## 2023-09-23 09:08:01 ##
$currency = EUR
## 2023-09-23 09:08:01 ##
id_order_state = 2
## 2023-09-23 09:08:01 ##
----> START placeOrder()
## 2023-09-23 09:08:01 ##
Treatment an existing order
## 2023-09-23 09:08:01 ##
If current status order = HIPAY_OS_WAITING Then change status with this id_status = 2
## 2023-09-23 09:08:01 ##
Array
(
    [operation] => capture
    [status] => ok
    [date] => 2023-09-23
    [time] => 07:07:57 UTC+0000
    [origAmount] => 340.16
    [origCurrency] => EUR
    [idForMerchant] => 10987
    [emailClient] => florence.mahmoud@gmail.com
    [idClient] => 22782447
    [cardCountry] => FR
    [ipCountry] => FR
    [merchantDatas] => Array
        (
            [_aKey_cart_id] => 10987
            [_aKey_customer_id] => 3734
            [_aKey_secure_key] => 20e3f7bb6ed2dd0e801d6db8fe3b6a3b
            [_aKey_token] => 50064c6c992b2e6a5f80b8cfaa7e9626
        )

    [transid] => 650E8E7B47E1C143
    [is3ds] => Yes
    [paymentMethod] => CB
    [customerCountry] => FR
    [returnCode] => Array
        (
        )

    [returnDescriptionShort] => Array
        (
        )

    [returnDescriptionLong] => Array
        (
        )

)

## 2023-09-23 09:08:02 ##
----> END placeOrder()
## 2023-09-23 09:08:02 ##
----> END registerOrder()
## 2023-09-23 09:08:02 ##
----> Treatment is unlocked for the id_cart = 10987
