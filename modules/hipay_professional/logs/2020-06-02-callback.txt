## 2020-06-02 11:32:21 ##
##########################
## 2020-06-02 11:32:21 ##
START Validation Callback
## 2020-06-02 11:32:21 ##
##########################
## 2020-06-02 11:32:21 ##
----> Treatment is locked for the id_cart = 270
## 2020-06-02 11:32:21 ##
data for validation
## 2020-06-02 11:32:21 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>d0b8f7610e8816ba54c5e6166cfaddb9</md5content><result><operation>authorization</operation><status>waiting</status><date>2020-06-02</date><time>10:32:17 UTC+0000</time><origAmount>20.55</origAmount><origCurrency>EUR</origCurrency><idForMerchant>270</idForMerchant><emailClient>luisabessa1@sapo.pt</emailClient><idClient>15484461</idClient><cardCountry/><ipCountry>PT</ipCountry><merchantDatas>  <_aKey_cart_id>270</_aKey_cart_id>  <_aKey_customer_id>38</_aKey_customer_id>  <_aKey_secure_key>959b9b4e87d6ae5a196037ade9be13c2</_aKey_secure_key>  <_aKey_token>bcaab237b1f197fff59dfd7edd4ae539</_aKey_token></merchantDatas><transid>5ED62AADA31E6574</transid><is3ds>No</is3ds><paymentMethod>MULTIBANCO</paymentMethod><customerCountry>PT</customerCountry></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => d0b8f7610e8816ba54c5e6166cfaddb9
            [result] => Array
                (
                    [operation] => authorization
                    [status] => waiting
                    [date] => 2020-06-02
                    [time] => 10:32:17 UTC+0000
                    [origAmount] => 20.55
                    [origCurrency] => EUR
                    [idForMerchant] => 270
                    [emailClient] => luisabessa1@sapo.pt
                    [idClient] => 15484461
                    [cardCountry] => Array
                        (
                        )

                    [ipCountry] => PT
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 270
                            [_aKey_customer_id] => 38
                            [_aKey_secure_key] => 959b9b4e87d6ae5a196037ade9be13c2
                            [_aKey_token] => bcaab237b1f197fff59dfd7edd4ae539
                        )

                    [transid] => 5ED62AADA31E6574
                    [is3ds] => No
                    [paymentMethod] => MULTIBANCO
                    [customerCountry] => PT
                )

        )

    [2] => 270
    [3] => 38
    [4] => 959b9b4e87d6ae5a196037ade9be13c2
    [5] => 20.55
)

## 2020-06-02 11:32:21 ##
----> START registerOrder()
## 2020-06-02 11:32:21 ##
accountID:13248407 / websiteId:418801
## 2020-06-02 11:32:21 ##
<result><operation>authorization</operation><status>waiting</status><date>2020-06-02</date><time>10:32:17 UTC+0000</time><origAmount>20.55</origAmount><origCurrency>EUR</origCurrency><idForMerchant>270</idForMerchant><emailClient>luisabessa1@sapo.pt</emailClient><idClient>15484461</idClient><cardCountry/><ipCountry>PT</ipCountry><merchantDatas>  <_aKey_cart_id>270</_aKey_cart_id>  <_aKey_customer_id>38</_aKey_customer_id>  <_aKey_secure_key>959b9b4e87d6ae5a196037ade9be13c2</_aKey_secure_key>  <_aKey_token>bcaab237b1f197fff59dfd7edd4ae539</_aKey_token></merchantDatas><transid>5ED62AADA31E6574</transid><is3ds>No</is3ds><paymentMethod>MULTIBANCO</paymentMethod><customerCountry>PT</customerCountry></result>
## 2020-06-02 11:32:21 ##
currency : EUR
## 2020-06-02 11:32:21 ##
accountID:13248407 / websiteId:418801
## 2020-06-02 11:32:21 ##
callback_salt : 
## 2020-06-02 11:32:21 ##
md5 : d0b8f7610e8816ba54c5e6166cfaddb9 == md5content : d0b8f7610e8816ba54c5e6166cfaddb9
## 2020-06-02 11:32:21 ##
Status = waiting
## 2020-06-02 11:32:21 ##
$currency = EUR
## 2020-06-02 11:32:21 ##
id_order_state = 14
## 2020-06-02 11:32:21 ##
----> START placeOrder()
## 2020-06-02 11:32:21 ##
Treatment status = 14
## 2020-06-02 11:32:21 ##
Validate order
## 2020-06-02 11:32:21 ##
Array
(
    [0] => 270
    [1] => 14
    [2] => 20.55
    [3] => HiPay Professional
    [4] => {"Environment":"PRODUCTION","Payment method":"MULTIBANCO","Transaction ID":"5ED62AADA31E6574"}
    [5] => Array
        (
            [transaction_id] => 5ED62AADA31E6574
        )

    [6] => 1
    [7] => 959b9b4e87d6ae5a196037ade9be13c2
)

## 2020-06-02 11:32:21 ##
ID Shop = 1
## 2020-06-02 11:32:26 ##
Order created
## 2020-06-02 11:32:26 ##
----> END placeOrder()
## 2020-06-02 11:32:26 ##
----> END registerOrder()
## 2020-06-02 11:32:26 ##
----> Treatment is unlocked for the id_cart = 270
## 2020-06-02 11:44:54 ##
##########################
## 2020-06-02 11:44:54 ##
START Validation Callback
## 2020-06-02 11:44:54 ##
##########################
## 2020-06-02 11:44:54 ##
----> Treatment is locked for the id_cart = 270
## 2020-06-02 11:44:54 ##
data for validation
## 2020-06-02 11:44:54 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>b7e7f4cf5f43f6631667fc552003eb59</md5content><result><operation>authorization</operation><status>ok</status><date>2020-06-02</date><time>10:44:50 UTC+0000</time><origAmount>20.55</origAmount><origCurrency>EUR</origCurrency><idForMerchant>270</idForMerchant><emailClient>luisabessa1@sapo.pt</emailClient><idClient>15484461</idClient><cardCountry/><ipCountry>PT</ipCountry><merchantDatas>  <_aKey_cart_id>270</_aKey_cart_id>  <_aKey_customer_id>38</_aKey_customer_id>  <_aKey_secure_key>959b9b4e87d6ae5a196037ade9be13c2</_aKey_secure_key>  <_aKey_token>bcaab237b1f197fff59dfd7edd4ae539</_aKey_token></merchantDatas><transid>5ED62AADA31E6574</transid><is3ds>No</is3ds><paymentMethod>MULTIBANCO</paymentMethod><customerCountry>PT</customerCountry></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => b7e7f4cf5f43f6631667fc552003eb59
            [result] => Array
                (
                    [operation] => authorization
                    [status] => ok
                    [date] => 2020-06-02
                    [time] => 10:44:50 UTC+0000
                    [origAmount] => 20.55
                    [origCurrency] => EUR
                    [idForMerchant] => 270
                    [emailClient] => luisabessa1@sapo.pt
                    [idClient] => 15484461
                    [cardCountry] => Array
                        (
                        )

                    [ipCountry] => PT
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 270
                            [_aKey_customer_id] => 38
                            [_aKey_secure_key] => 959b9b4e87d6ae5a196037ade9be13c2
                            [_aKey_token] => bcaab237b1f197fff59dfd7edd4ae539
                        )

                    [transid] => 5ED62AADA31E6574
                    [is3ds] => No
                    [paymentMethod] => MULTIBANCO
                    [customerCountry] => PT
                )

        )

    [2] => 270
    [3] => 38
    [4] => 959b9b4e87d6ae5a196037ade9be13c2
    [5] => 20.55
)

## 2020-06-02 11:44:54 ##
----> START registerOrder()
## 2020-06-02 11:44:54 ##
accountID:13248407 / websiteId:418801
## 2020-06-02 11:44:54 ##
<result><operation>authorization</operation><status>ok</status><date>2020-06-02</date><time>10:44:50 UTC+0000</time><origAmount>20.55</origAmount><origCurrency>EUR</origCurrency><idForMerchant>270</idForMerchant><emailClient>luisabessa1@sapo.pt</emailClient><idClient>15484461</idClient><cardCountry/><ipCountry>PT</ipCountry><merchantDatas>  <_aKey_cart_id>270</_aKey_cart_id>  <_aKey_customer_id>38</_aKey_customer_id>  <_aKey_secure_key>959b9b4e87d6ae5a196037ade9be13c2</_aKey_secure_key>  <_aKey_token>bcaab237b1f197fff59dfd7edd4ae539</_aKey_token></merchantDatas><transid>5ED62AADA31E6574</transid><is3ds>No</is3ds><paymentMethod>MULTIBANCO</paymentMethod><customerCountry>PT</customerCountry></result>
## 2020-06-02 11:44:54 ##
currency : EUR
## 2020-06-02 11:44:54 ##
accountID:13248407 / websiteId:418801
## 2020-06-02 11:44:54 ##
callback_salt : 
## 2020-06-02 11:44:54 ##
md5 : b7e7f4cf5f43f6631667fc552003eb59 == md5content : b7e7f4cf5f43f6631667fc552003eb59
## 2020-06-02 11:44:54 ##
Status = ok
## 2020-06-02 11:44:54 ##
$currency = EUR
## 2020-06-02 11:44:54 ##
id_order_state = 14
## 2020-06-02 11:44:54 ##
----> START placeOrder()
## 2020-06-02 11:44:54 ##
Treatment an existing order
## 2020-06-02 11:44:54 ##
If current status order = HIPAY_OS_WAITING Then change status with this id_status = 14
## 2020-06-02 11:44:54 ##
Array
(
    [operation] => authorization
    [status] => ok
    [date] => 2020-06-02
    [time] => 10:44:50 UTC+0000
    [origAmount] => 20.55
    [origCurrency] => EUR
    [idForMerchant] => 270
    [emailClient] => luisabessa1@sapo.pt
    [idClient] => 15484461
    [cardCountry] => Array
        (
        )

    [ipCountry] => PT
    [merchantDatas] => Array
        (
            [_aKey_cart_id] => 270
            [_aKey_customer_id] => 38
            [_aKey_secure_key] => 959b9b4e87d6ae5a196037ade9be13c2
            [_aKey_token] => bcaab237b1f197fff59dfd7edd4ae539
        )

    [transid] => 5ED62AADA31E6574
    [is3ds] => No
    [paymentMethod] => MULTIBANCO
    [customerCountry] => PT
)

## 2020-06-02 11:44:55 ##
----> END placeOrder()
## 2020-06-02 11:44:55 ##
----> END registerOrder()
## 2020-06-02 11:44:55 ##
----> Treatment is unlocked for the id_cart = 270
## 2020-06-02 11:44:56 ##
##########################
## 2020-06-02 11:44:56 ##
START Validation Callback
## 2020-06-02 11:44:56 ##
##########################
## 2020-06-02 11:44:56 ##
----> Treatment is locked for the id_cart = 270
## 2020-06-02 11:44:56 ##
data for validation
## 2020-06-02 11:44:56 ##
Array
(
    [0] => <?xml version="1.0" encoding="UTF-8"?>
<mapi><mapiversion>1.0</mapiversion><md5content>4e88ca2c8bb87f232c9fa938c57763b3</md5content><result><operation>capture</operation><status>ok</status><date>2020-06-02</date><time>10:44:52 UTC+0000</time><origAmount>20.55</origAmount><origCurrency>EUR</origCurrency><idForMerchant>270</idForMerchant><emailClient>luisabessa1@sapo.pt</emailClient><idClient>15484461</idClient><cardCountry/><ipCountry>PT</ipCountry><merchantDatas>  <_aKey_cart_id>270</_aKey_cart_id>  <_aKey_customer_id>38</_aKey_customer_id>  <_aKey_secure_key>959b9b4e87d6ae5a196037ade9be13c2</_aKey_secure_key>  <_aKey_token>bcaab237b1f197fff59dfd7edd4ae539</_aKey_token></merchantDatas><transid>5ED62AADA31E6574</transid><is3ds>No</is3ds><paymentMethod>MULTIBANCO</paymentMethod><customerCountry>PT</customerCountry></result></mapi>

    [1] => Array
        (
            [mapiversion] => 1.0
            [md5content] => 4e88ca2c8bb87f232c9fa938c57763b3
            [result] => Array
                (
                    [operation] => capture
                    [status] => ok
                    [date] => 2020-06-02
                    [time] => 10:44:52 UTC+0000
                    [origAmount] => 20.55
                    [origCurrency] => EUR
                    [idForMerchant] => 270
                    [emailClient] => luisabessa1@sapo.pt
                    [idClient] => 15484461
                    [cardCountry] => Array
                        (
                        )

                    [ipCountry] => PT
                    [merchantDatas] => Array
                        (
                            [_aKey_cart_id] => 270
                            [_aKey_customer_id] => 38
                            [_aKey_secure_key] => 959b9b4e87d6ae5a196037ade9be13c2
                            [_aKey_token] => bcaab237b1f197fff59dfd7edd4ae539
                        )

                    [transid] => 5ED62AADA31E6574
                    [is3ds] => No
                    [paymentMethod] => MULTIBANCO
                    [customerCountry] => PT
                )

        )

    [2] => 270
    [3] => 38
    [4] => 959b9b4e87d6ae5a196037ade9be13c2
    [5] => 20.55
)

## 2020-06-02 11:44:56 ##
----> START registerOrder()
## 2020-06-02 11:44:56 ##
accountID:13248407 / websiteId:418801
## 2020-06-02 11:44:56 ##
<result><operation>capture</operation><status>ok</status><date>2020-06-02</date><time>10:44:52 UTC+0000</time><origAmount>20.55</origAmount><origCurrency>EUR</origCurrency><idForMerchant>270</idForMerchant><emailClient>luisabessa1@sapo.pt</emailClient><idClient>15484461</idClient><cardCountry/><ipCountry>PT</ipCountry><merchantDatas>  <_aKey_cart_id>270</_aKey_cart_id>  <_aKey_customer_id>38</_aKey_customer_id>  <_aKey_secure_key>959b9b4e87d6ae5a196037ade9be13c2</_aKey_secure_key>  <_aKey_token>bcaab237b1f197fff59dfd7edd4ae539</_aKey_token></merchantDatas><transid>5ED62AADA31E6574</transid><is3ds>No</is3ds><paymentMethod>MULTIBANCO</paymentMethod><customerCountry>PT</customerCountry></result>
## 2020-06-02 11:44:56 ##
currency : EUR
## 2020-06-02 11:44:56 ##
accountID:13248407 / websiteId:418801
## 2020-06-02 11:44:56 ##
callback_salt : 
## 2020-06-02 11:44:56 ##
md5 : 4e88ca2c8bb87f232c9fa938c57763b3 == md5content : 4e88ca2c8bb87f232c9fa938c57763b3
## 2020-06-02 11:44:56 ##
Status = ok
## 2020-06-02 11:44:56 ##
$currency = EUR
## 2020-06-02 11:44:56 ##
id_order_state = 2
## 2020-06-02 11:44:56 ##
----> START placeOrder()
## 2020-06-02 11:44:57 ##
Treatment an existing order
## 2020-06-02 11:44:57 ##
If current status order = HIPAY_OS_WAITING Then change status with this id_status = 2
## 2020-06-02 11:44:57 ##
Array
(
    [operation] => capture
    [status] => ok
    [date] => 2020-06-02
    [time] => 10:44:52 UTC+0000
    [origAmount] => 20.55
    [origCurrency] => EUR
    [idForMerchant] => 270
    [emailClient] => luisabessa1@sapo.pt
    [idClient] => 15484461
    [cardCountry] => Array
        (
        )

    [ipCountry] => PT
    [merchantDatas] => Array
        (
            [_aKey_cart_id] => 270
            [_aKey_customer_id] => 38
            [_aKey_secure_key] => 959b9b4e87d6ae5a196037ade9be13c2
            [_aKey_token] => bcaab237b1f197fff59dfd7edd4ae539
        )

    [transid] => 5ED62AADA31E6574
    [is3ds] => No
    [paymentMethod] => MULTIBANCO
    [customerCountry] => PT
)

## 2020-06-02 11:44:58 ##
----> END placeOrder()
## 2020-06-02 11:44:58 ##
----> END registerOrder()
## 2020-06-02 11:44:58 ##
----> Treatment is unlocked for the id_cart = 270
