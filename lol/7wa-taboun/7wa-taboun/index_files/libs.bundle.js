cssNamespace.pkportal.keepalive=function(t){"use strict";function e(t,e,n,r,a){c||(c=!0,r&&(m=r),a&&(p=a),t&&(f=t),e&&(g=e),n&&(h=n),d=window.setInterval(o,m))}function n(){b=!1,l=0,null!=v&&(window.clearInterval(w),a())}function r(t){v=t,a()}function a(){function e(){null!==p&&(n=(p-(Date.now()-o|0))/1e3,r=n/60|0,a=n%60|0,r=r<10?"0"+r:r,a=a<10?"0"+a:a,v.textContent=""+r+":"+a,n<=y&&!b&&(s(t(".keepalivePopup"),500),b=!0),n<=0&&window.clearInterval(w))}var n,r,a,o=Date.now();e(),w=window.setInterval(e,1e3)}function o(){if(t.ajax({cache:!1,type:"GET",url:f}),l++,l>=p/m){var e=encodeURIComponent(window.location);t.cookie(h,e,{expires:60,path:"/"}),window.clearInterval(d),window.location.replace(g)}}function i(){t("body").on("click",".keepalivePopup .close-X",function(t){u()}),t("body").on("click",".keepalivePopup .close",function(t){u()})}function s(e,n){var r=t(window).height(),a=.2*r,o=.2*r,i=r-a-o+"px",s=700,u=n||s,c=20,l=r-a-o-2*c+"px";e.css("maxHeight",l),e.css("overflow","auto"),e.css("margin",c+"px"),t.blockUI({message:e,css:{border:"none","border-radius":"10px",cursor:"auto",textAlign:"inherit",boxShadow:"2px 2px 15px rgba(0, 0, 0, 0.3)",top:"20%","max-height":i,width:u+"px",left:"50%",marginLeft:-1*(u/2)+"px"},overlayCSS:{opacity:.5,cursor:"default"}})}function u(){window.clearInterval(d),d=window.setInterval(o,m),n(),t.unblockUI()}var c=!1,l=0,d=null,f=null,m=null,p=null,g=null,h=null,w=null,v=null,y=180,b=!1;return t(document).ready(function(){i()}),{init:e,resetCounter:n,registerVisualCounter:r}}(jQuery),$.ajaxTransport("+binary",function(t,e,n){if(window.FormData&&(t.dataType&&"binary"==t.dataType||t.data&&(window.ArrayBuffer&&t.data instanceof ArrayBuffer||window.Blob&&t.data instanceof Blob)))return{send:function(e,n){var r=new XMLHttpRequest,a=t.url,o=t.type,i=t.async||!0,s=t.responseType||"blob",u=t.data||null,c=t.username||null,l=t.password||null;r.addEventListener("load",function(){var e={};e[t.dataType]=r.response,n(r.status,r.statusText,e,r.getAllResponseHeaders())}),r.open(o,a,i,c,l);for(var d in e)r.setRequestHeader(d,e[d]);r.responseType=s,r.send(u)},abort:function(){n.abort()}}});var cssNamespace=cssNamespace||{};cssNamespace.pkportal=cssNamespace.pkportal||{},cssNamespace.pkportal.utils=function(t,e){"use strict";function n(){var e,n;t(document).on("click, focus","INPUT, TEXTAREA, SELECT",function(){e=document.querySelector('meta[name="viewport"]'),n=e.content,e.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no",setTimeout(function(){e.content=n},1e3)})}function r(){return t(".mobile").is(":visible")}function a(e){return t.extend(!0,{},e)}function o(t,e){return"undefined"==typeof t?e:t}function i(t,e,n,r){var a,o,i,s=!0;if("undefined"==typeof e||e.length<1)return t;t.indexOf("#")>0?(a=t.indexOf("#"),o=t.substring(t.indexOf("#"),t.length)):(o="",a=t.length),i=t.substring(0,a);var u=i.split("?"),c="";if(u.length>1)for(var l=u[1].split("&"),d=0;d<l.length;d++){var f=l[d].split("=");s&&f[0]===e||(""===c?c="?":c+="&",c+=f[0]+"="+(f[1]?f[1]:""))}return""===c&&(c="?"),r?c="?"+e+"="+n+(c.length>1?"&"+c.substring(1):""):(""!==c&&"?"!==c&&(c+="&"),c+=e+"="+(n?n:"")),u[0]+c+o}function s(t,e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",r=new RegExp(n),a=r.exec(t);return a?decodeURIComponent(a[1].replace(/\+/g," ")):""}function u(t,e){var n={"./sling:resourceType":e,disablePostCheck:!0},r={url:t,data:n,async:!1};d(r)}function c(){return{type:"POST",dataType:"json",headers:{"cache-control":"no-cache"}}}function l(e){return t.extend(c(),e)}function d(t){return e.resetCounter(),f(t)}function f(e){var n=l(e);return n.omitCharset||m(n),t.ajax(n)}function m(t){x(t.data)?t.data={_charset_:"utf-8"}:t.data.hasOwnProperty("_charset_")||"object"==typeof t.data&&(t.data._charset_="utf-8")}function p(){return"https"}function g(t){switch(t.toLowerCase()){case"true":case"yes":case"1":return!0;default:return!1}}function h(e,n){return t.inArray(e,n)>=0}function w(e,n){if(h(e,n)){var r=t.inArray(e,n);n.splice(r,1)}}function v(){return"dd.mm.yyyy"}function y(){return"D.MM.YYYY"}function b(t){var e="undefined"!=typeof t,n=null!==t;return e&&n}function x(t){var e="undefined"==typeof t,n=null===t;return e||n}function T(t){return x(t)||/^\s*$/.test(t)}function S(t){return!T(t)}function I(t){var e=48,n=57,r=96,a=105;return t>=e&&t<=n||t>=r&&t<=a}function k(){t("button").attr("disabled","disabled")}function N(){t("button").removeAttr("disabled")}function P(){return/android|iphone|iPod|iPad|symbian|symbianos|blackberry|samsung|nokia|windows ce|sonyericsson|webos|wap|motor/i.test(navigator.userAgent)}function F(t){window.location.replace(t)}function A(t){window.location.href=t}function C(){window.location.reload()}function M(){return window.location}function E(t){return t.indexOf(".html")!==t.length-5&&(t+=".html"),t}function j(t){var e=t.indexOf("#");if(e>-1){var n=t.indexOf("?",e);n>-1&&(t=t.substring(0,n))}return t}function D(){return new function(){var t=[],e=0;this.then=function(n){var r=e++;return t.push({func:n,handle:r}),function(){t=t.filter(function(t){return t.handle!==r})}},this.notify=function(){var e=arguments;t.forEach(function(t){try{t.func.apply(null,e)}catch(n){console.error(n)}})}}}function L(t){var e,n=/\/DE\/|\/EN\/|\/FR\/|\/IT\//i.exec(t);return null!==n&&(n=n[0].toUpperCase().substring(1,3),"DE"===n||"FR"===n||"IT"===n?e=n.toLowerCase()+"-CH":"EN"===n&&(e=n.toLowerCase()+"-GB"),{shortCode:n,longCode:e})}function O(t){return t.replace(/(?:\r\n|\r|\n)/g,"<br>")}function U(t){var e=M(),n=/(\/|(?:\/content\/(?:mycss|mysanagate)\/))(?:de|fr|it|en)(\/privatkunde\/secure)/,r=n.exec(e.href),a=!1;return r.length&&(a=r[0]+"/servlet/"+t),a}function R(t,e){window.sessionStorage.setItem(t,e)}function B(t){window.sessionStorage.removeItem(t)}function _(t){return window.sessionStorage.getItem(t)}return{windowLocationReplace:F,windowLocationHref:A,windowLocationReload:C,getWindowLocation:M,makeAEMUrl:E,removeAngularParameters:j,createDeepCopy:a,getValueForOptionalVariable:o,addParameterToUrl:i,getParameterFromUrl:s,createMissingNode:u,doPost:d,doPostWithoutKeepAliveReset:f,getProtocol:p,stringToBoolean:g,isInArray:h,removeFromArrayInPlace:w,getFormatString:v,getFormatStringMoment:y,isDefinedAndNotNull:b,isUndefinedOrNull:x,isBlank:T,isNumericKeyCode:I,disableButtons:k,enableButtons:N,isNotBlank:S,isMobile:P,resetScaleOnInputFocus:n,isSmallScreen:r,createObserver:D,getLanguage:L,prettyPrintFilter:O,configureServletUrl:U,putInSessionStorage:R,removeFromSessionStorage:B,getFromSessionStorage:_}}(jQuery,cssNamespace.pkportal.keepalive),cssNamespace.pkportal.svgService=function(t,e){var n=function(){setTimeout(function(){t("img.svg").each(function(){var e=jQuery(this),n=e.attr("id"),r=e.attr("class"),a=e.attr("src");t.get(a,function(t){var a=jQuery(t).find("svg");"undefined"!=typeof n&&(a=a.attr("id",n)),"undefined"!=typeof r&&(a=a.attr("class",r+" replaced-svg")),a=a.removeAttr("xmlns:a"),e.replaceWith(a)},"xml")})})};return t(document).ready(function(){n()}),{replaceSvgWithInlineSvg:n}}(jQuery,cssNamespace.pkportal.utils),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof module&&"object"==typeof module.exports?require("jquery"):jQuery)}(function(t){function e(){var e=o.settings;if(e.autoDispose&&!t.contains(document.documentElement,this))return t(this).timeago("dispose"),this;var i=n(this);return isNaN(i.datetime)||(0===e.cutoff||Math.abs(a(i.datetime))<e.cutoff?t(this).text(r(i.datetime)):t(this).attr("title").length>0&&t(this).text(t(this).attr("title"))),this}function n(e){if(e=t(e),!e.data("timeago")){e.data("timeago",{datetime:o.datetime(e)});var n=t.trim(e.text());o.settings.localeTitle?e.attr("title",e.data("timeago").datetime.toLocaleString()):!(n.length>0)||o.isTime(e)&&e.attr("title")||e.attr("title",n)}return e.data("timeago")}function r(t){return o.inWords(a(t))}function a(t){return(new Date).getTime()-t.getTime()}t.timeago=function(e){return r(e instanceof Date?e:"string"==typeof e?t.timeago.parse(e):"number"==typeof e?new Date(e):t.timeago.datetime(e))};var o=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,autoDispose:!0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(e){function n(n,a){var o=t.isFunction(n)?n(a,e):n,i=r.numbers&&r.numbers[a]||a;return o.replace(/%d/i,i)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var r=this.settings.strings,a=r.prefixAgo,o=r.suffixAgo;if(this.settings.allowFuture&&e<0&&(a=r.prefixFromNow,o=r.suffixFromNow),!this.settings.allowPast&&e>=0)return this.settings.strings.inPast;var i=Math.abs(e)/1e3,s=i/60,u=s/60,c=u/24,l=c/365,d=i<45&&n(r.seconds,Math.round(i))||i<90&&n(r.minute,1)||s<45&&n(r.minutes,Math.round(s))||s<90&&n(r.hour,1)||u<24&&n(r.hours,Math.round(u))||u<42&&n(r.day,1)||c<30&&n(r.days,Math.round(c))||c<45&&n(r.month,1)||c<365&&n(r.months,Math.round(c/30))||l<1.5&&n(r.year,1)||n(r.years,Math.round(l)),f=r.wordSeparator||"";return void 0===r.wordSeparator&&(f=" "),t.trim([a,d,o].join(f))},parse:function(e){var n=t.trim(e);return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),n=n.replace(/([\+\-]\d\d)$/," $100"),new Date(n)},datetime:function(e){var n=o.isTime(e)?t(e).attr("datetime"):t(e).attr("title");return o.parse(n)},isTime:function(e){return"time"===t(e).get(0).tagName.toLowerCase()}});var i={init:function(){var n=t.proxy(e,this);n();var r=o.settings;r.refreshMillis>0&&(this._timeagoInterval=setInterval(n,r.refreshMillis))},update:function(n){var r=n instanceof Date?n:o.parse(n);t(this).data("timeago",{datetime:r}),o.settings.localeTitle&&t(this).attr("title",r.toLocaleString()),e.apply(this)},updateFromDOM:function(){t(this).data("timeago",{datetime:o.parse(o.isTime(this)?t(this).attr("datetime"):t(this).attr("title"))}),e.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};t.fn.timeago=function(t,e){var n=t?i[t]:i.init;if(!n)throw new Error("Unknown function name '"+t+"' for timeago");return this.each(function(){n.call(this,e)}),this},document.createElement("abbr"),document.createElement("time")});